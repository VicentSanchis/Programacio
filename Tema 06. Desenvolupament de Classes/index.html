
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../Tema%2005.%20Programaci%C3%B3%20Modular/" rel="prev"/>
<link href="../Tema%2007.%20Entrada%2C%20eixida%20i%20gr%C3%A0fics/" rel="next"/>
<link href="../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.5.3, mkdocs-material-9.5.12" name="generator"/>
<title>06.- Desenvolupament de classes - PROGRAMACI√ì 1DAW</title>
<link href="../assets/stylesheets/main.7e359304.min.css" rel="stylesheet"/>
<link href="../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../stylesheet/extra.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/mermaid/7.0.9/mermaid.neutral.css" rel="stylesheet"/>
<script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#tema-6-desenvolupament-de-classes">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="PROGRAMACI√ì 1DAW" class="md-header__button md-logo" data-md-component="logo" href=".." title="PROGRAMACI√ì 1DAW">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            PROGRAMACI√ì 1DAW
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              06.- Desenvolupament de classes
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Canvia a mode fosc" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Canvia a mode fosc">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18V6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-2.69L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69Z"></path></svg>
</label>
<input aria-label="Canvia a prefer√®ncia del sistema" class="md-option" data-md-color-accent="white" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="black" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Canvia a prefer√®ncia del sistema">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18V6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-2.69L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69Z"></path></svg>
</label>
</form>
<script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--integrated" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="PROGRAMACI√ì 1DAW" class="md-nav__button md-logo" data-md-component="logo" href=".." title="PROGRAMACI√ì 1DAW">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
    PROGRAMACI√ì 1DAW
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="..">
<span class="md-ellipsis">
    √çndex
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Tema%2001.%20Introducci%C3%B3%20a%20la%20programaci%C3%B3/">
<span class="md-ellipsis">
    01.- Introducci√≥ a la programaci√≥
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Tema%2002.%20El%20llenguatge%20Java/">
<span class="md-ellipsis">
    02.- El llenguatge Java
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Tema%2003.%20Programaci%C3%B3%20Orientada%20a%20Objectes/">
<span class="md-ellipsis">
    03.- Prog. Orientada a Objectes
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Tema%2004.%20Estructures%20de%20Control/">
<span class="md-ellipsis">
    04.- Estructures de Control
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Tema%2005.%20Programaci%C3%B3%20Modular/">
<span class="md-ellipsis">
    05.- Programaci√≥ modular
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    06.- Desenvolupament de classes
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    06.- Desenvolupament de classes
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#introduccio">
<span class="md-ellipsis">
      Introducci√≥
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#radiografia-duna-classe-java">
<span class="md-ellipsis">
      Radiografia d'una classe Java
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#definicio-de-classes-en-java">
<span class="md-ellipsis">
      Definici√≥ de classes en Java
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#propietats-i-metodes-de-les-classes">
<span class="md-ellipsis">
      Propietats i m√®todes de les classes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#instancies">
<span class="md-ellipsis">
      Inst√†ncies
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#modificadors-de-visibilitat">
<span class="md-ellipsis">
      Modificadors de visibilitat
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#metodes-i-atributs-estatics">
<span class="md-ellipsis">
      M√®todes i atributs est√†tics
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#herencia-de-classes">
<span class="md-ellipsis">
      Her√®ncia de classes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#interficies">
<span class="md-ellipsis">
      Interf√≠cies
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#conjunts-dobjectes-i-llibreries-de-classes">
<span class="md-ellipsis">
      Conjunts d'objectes i llibreries de classes
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Tema%2007.%20Entrada%2C%20eixida%20i%20gr%C3%A0fics/">
<span class="md-ellipsis">
    07.- Entrada, eixida i gr√†fics
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Tema%2008.%20Col%C2%B7leccions/">
<span class="md-ellipsis">
    08.- Col¬∑leccions
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Tema%2009.%20Her%C3%A8ncia%2C%20polimorfisme%20i%20interf%C3%ADcies/">
<span class="md-ellipsis">
    09.- Her√®ncia, polimorfisme i interf√≠cies
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Tema%2010.%20Bases%20de%20dades%20relacionals/">
<span class="md-ellipsis">
    10.- Bases de dades relacionals
  </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="tema-6-desenvolupament-de-classes">Tema 6. Desenvolupament de classes</h1>
<div class="admonition danger">
<p class="admonition-title">Resultat d'aprenentatge associat</p>
<p><strong>RA4. Desenvolupa programes organitzats a classes analitzant i aplicant els principis de la programaci√≥ orientada a objectes.</strong></p>
<h3 id="criteris-davaluacio">Criteris d'avaluaci√≥</h3>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"><span class="task-list-indicator"></span></input></label> RA4.1. S'ha reconegut la sintaxi, estructura i components t√≠pics d'una classe.</li>
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"><span class="task-list-indicator"></span></input></label> RA4.2. S'han definit classes.</li>
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"><span class="task-list-indicator"></span></input></label> RA4.3. S'han definit propietats i m√®todes.</li>
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"><span class="task-list-indicator"></span></input></label> RA4.4. S'han creat constructors.</li>
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"><span class="task-list-indicator"></span></input></label> RA4.5. S'han desenvolupat programes que instancien i utilitzin objectes de les classes creades anteriorment.</li>
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"><span class="task-list-indicator"></span></input></label> RA4.6. S'han utilitzat mecanismes per controlar la visibilitat de les classes i dels seus membres.</li>
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"/><span class="task-list-indicator"></span></label> RA4.7. S'han definit i utilitzat classes heretades.</li>
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"/><span class="task-list-indicator"></span></label> RA4.8. S'han creat i utilitzat m√®todes est√†tics.</li>
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"/><span class="task-list-indicator"></span></label> RA4.9. S'han definit i utilitzat interf√≠cies.</li>
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"/><span class="task-list-indicator"></span></label> RA4.10. S'han creat i utilitzat conjunts i llibreries de classes.</li>
</ul>
</div>
<h2 id="introduccio">Introducci√≥</h2>
<p>Una vegada hem vista la sintaxi de Java, l'√∫s (instanciaci√≥) d'objectes i  com funcionen els m√®todes, funcions, procediments, crides etc.. ja tenim tot el necessari per poder comen√ßar a desenvolupar les nostres pr√≤pies classes a Java.</p>
<h2 id="radiografia-duna-classe-java">Radiografia d'una classe Java</h2>
<div class="admonition success">
<p class="admonition-title">Criteris d'avaluaci√≥ associats</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"/><span class="task-list-indicator"></span></label> RA4.1. S'ha reconegut la sintaxi, estructura i components t√≠pis d'una classe.</li>
</ul>
</div>
<p>Una <strong>classe √©s la definici√≥ d‚Äôun objecte</strong>, √©s l‚Äôelement que descriu els components d‚Äôun objecte de forma general. Diem que hem creat un objecte quan donem valors i utilitzem els components definits a la classe. Dit d'una altra forma, una classe √©s el model o plantilla que defineix com seran els objectes que en derivem. √âs a dir, estableix qu√® saben (atributs) i qu√® poden fer (m√®todes). Els objectes s√≥n, doncs, inst√†ncies concretes d‚Äôuna classe.</p>
<p>Per entendre la sintaxi i estructura d‚Äôuna classe en Java (i tamb√© a Processing), conv√© distingir les seues parts principals:</p>
<ul>
<li><strong>Nom de la classe:</strong> s'escriu amb maj√∫scula inicial per convenci√≥.</li>
<li><strong>Atributs:</strong> variables que defineixen l'estat de la classe.</li>
<li><strong>Constructor (s):</strong> m√®tode especial que permet crear (instanciar) objectes inicialitzant atributs.</li>
<li><strong>M√®todes:</strong> accions que poden fer els objectes de la classe.</li>
<li><strong>Comentaris i documentaci√≥:</strong> √©s bona pr√†ctica descriure qu√® fa cada part de la classe.</li>
</ul>
<p>Veien un exemple gen√®ric de com seria una classe en notaci√≥ <strong>UML</strong></p>
<p><center>
<div class="mermaid">    classDiagram
    direction TB

    class Cotxe {
        - String color atribut1
        - int velocitat
        + Cotxe(String c, int v)
        + void arrancar()
        + void accelerar()
        + void frenar()
    }
        
</div>
</center></p>
<p>A l'esquema anterior hem definit una classe amb nom <strong>Cotxe</strong> que t√© dos <strong>atributs</strong>: color i velocitat; un <strong>constructor</strong>: Cotxe i tres <strong>m√®todes</strong>: arrancar, accelerar i frenar.</p>
<p>Per√≤ estudiem un exemple m√©s concret. Per tal de veure com √©s el desenvolupament de classes en programaci√≥ orientada a objectes, quina √©s la seua sintaxi, estructura i components t√≠pics, el que farem ser√† un xicotet projecte amb un <strong>sistema de part√≠cules</strong> en forma de volc√† com mostra la imatge:</p>
<p><center>
<img alt="Sistema de part√≠cules" src="../assets/Tema6/Volcano1.gif" style="border:1px solid #EEE;" width="50%"/>
</center></p>
<p>Un <strong>sistema de part√≠cules</strong> √©s una t√®cnica de programaci√≥ gr√†fica utilitzada per simular fen√≤mens formats per molts  elements petits i independents (anomenats part√≠cules) que, en conjunt, generen un efecte visual complex.</p>
<p>Cada <strong>part√≠cula</strong> √©s un objecte amb propietats pr√≤pies (posici√≥, velocitat, color, vida, etc.) que determinen <strong>l'estat</strong> de l'objecte i regles de funcionament general (com es mou, com es dissipa, com canvia al llarg del temps) que determinen el <strong>comportament</strong> de la classe.</p>
<p>Un <strong>sistema de part√≠cules</strong> gestiona un conjunt d‚Äôaquestes part√≠cules:</p>
<ul>
<li><strong>Creaci√≥:</strong> genera noves part√≠cules segons unes condicions (per exemple, cada frame).</li>
<li><strong>Actualitzaci√≥:</strong> calcula l‚Äôestat de cada part√≠cula (moure‚Äôs, canviar d‚Äôopacitat, reduir vida...).</li>
<li><strong>Dibuix:</strong> mostra totes les part√≠cules a la pantalla.</li>
<li><strong>Eliminaci√≥:</strong> descarta les part√≠cules que ja han ‚Äúmort‚Äù o superat la seua vida √∫til.</li>
</ul>
<p>Els exemples m√©s t√≠pics de sistemes de part√≠cules s√≥n: foc, fum, nuvols, pluja, neu, focs d'artifici...</p>
<p>En definitiva un <strong>sistema de part√≠cules</strong> √©s, doncs, un algorisme orientat a objectes que permet simular fen√≤mens complexos mitjan√ßant la suma de molts elements simples, gestionats de manera conjunta per√≤ amb comportament individual.</p>
<p>Per√≤ abans de passar a la implementaci√≥ del nostre sistema de part√≠cules, unes quantes pinzellades breus de com es desenvolupa un projecte de programaci√≥ orientada a objectes.</p>
<h3 id="realitzacio-de-programes-orientats-a-objectes">Realitzaci√≥ de programes orientats a objectes</h3>
<p>A partir d‚Äôara, quan hajam de resoldre un problema hem de comen√ßar a <strong>pensar d‚Äôuna forma diferent</strong> a la que est√†vem fent fins ara. En programaci√≥ orientada a objectes seguirem usant els mecanismes de programaci√≥ estructurada com ara sent√®ncies repetitives, alternatives, etc.. tanmateix hem de plantejar un sistema on les dades presenten una major import√†ncia.</p>
<p><strong>L‚Äôobjectiu de l‚Äôorientaci√≥ a objectes</strong> √©s plasmar la realitat de manera que programem els elements el m√©s pr√≤xim possible a com els veiem al seu entorn natural. Aix√≠, quan hajam d‚Äôencarar un problema d‚Äôaquest tipus:</p>
<ul>
<li>Ens preguntarem sobre aquells elements dels que realment es interessant emmagatzemar informaci√≥, √©s a dir, <strong>localitzarem els possibles objectes</strong> del nostre programa.</li>
<li>De cada element hem de con√®ixer quines s√≥n les seues <strong>caracter√≠stiques</strong> o quines s√≥n les caracter√≠stiques que el representen.</li>
<li>De cada element hem de con√®ixer les <strong>operacions a realitzar</strong>, accions que hi poden fer,  ja que cada conjunt de dades permetr√† la realitzaci√≥ d‚Äôun conjunt d‚Äôoperacions.</li>
<li>Finalment, desenvoluparem un entorn on utilitzarem els elements configurats.</li>
</ul>
<details class="question">
<summary>Activitat 601. Dissenya la teua part√≠cula</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio"/><input id="__tabbed_1_2" name="__tabbed_1" type="radio"/><div class="tabbed-labels"><label for="__tabbed_1_1">Enunciat</label><label for="__tabbed_1_2">Soluci√≥</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Dissenya una classe part√≠cula seguint les indicacions dels apunts i l'exemple anterior. </p>
<p><strong>Entregar:</strong> Document pdf que continga el disseny UML de la classe i una breu reflexi√≥ de les motivacions.</p>
</div>
<div class="tabbed-block">
<p><center>üì¶ <strong>Fitxer ZIP amb la soluci√≥ completa</strong></center></p>
<p><center><a class="md-button md-button--secondary" href="../assets/Tema6/act601.zip">üì• Descarrega la soluci√≥</a></center></p>
</div>
</div>
</div>
</details>
<h2 id="definicio-de-classes-en-java">Definici√≥ de classes en Java</h2>
<div class="admonition success">
<p class="admonition-title">Criteris d'avaluaci√≥ associats</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"/><span class="task-list-indicator"></span></label> RA4.2. S'han definit classes</li>
</ul>
</div>
<p>Per poder definir una classe ens hem de basar en l'esquema general de classe vist a l'apartat <strong>Radiografia d'una classe en Java</strong> per poder construir-la i d'una altra banda, ens hem de fixar tamb√© en l'apartat de <strong>Realitzaci√≥ de programes orientats a objectes</strong>. Com haviem dit, hem de localitzar primer quines s√≥n les caracter√≠stiques que representen l'objecte que es vol implementar aix√≠ com les operacions o accions que hi pot realitzar.</p>
<p>Al sistema de particules la classe que pretenem modelar inicialment √©s la classe <strong>particula</strong>. Per tal de modelar des del punt de vista de la programaci√≥ orientada a objectes i com varem a veure en apartats anteriors, consistiria en quedar-nos amb aquells detalls que siguen rellevants i desestimar els que no tenen import√†ncia. Des del meu punt de vista una particula tindria les seg√ºents caracter√≠stiques:</p>
<ul>
<li>T√© dimensions.</li>
<li>T√© una velocitat inicial.</li>
<li>T√© color.</li>
<li>Est√† en una posici√≥.</li>
<li>Va en una direcci√≥.</li>
</ul>
<p>Respecte de les accions que una particula pot realitzar s√≥n:</p>
<ul>
<li>S'ha de mostrar per pantalla</li>
<li>Actualitza la seua posici√≥ en el temps, en altres paraules, es mou.</li>
<li>Li afecta la gravetat i les lleis de la f√≠sica general.</li>
</ul>
<p>Una vegada hem fet aquest proc√©s d'abstracci√≥ i hem decidit qu√® es representar√† al nostre sistema i qu√® no, hem de dissenyar la nostra classe usant UML, concretament diagrama de classes:</p>
<p><center>
<div class="mermaid">    classDiagram
    direction TB

    class Particula {
        posicio;
        direccio;
        velocitat;
        grandaria;
        pinta;
        
        mostrar()
        actualitzar()
    }
        
</div>
</center></p>
<p>D'aquest disseny de la classe <strong>particula</strong> ja podem comen√ßar a picar el codi del nostre projecte, per√≤ abans algunes consideracions pr√®vies associades a l'entorn integrat de desenvolupament escollit (Processing IDE) i les seues particularitats.</p>
<p>L'an√†lisi i el disseny formen part del proc√©s de desenvolupament abans de comen√ßar a codificar. Una vegada tenim l'abstracci√≥ feta i el diagrama UML, passem a la fase d'implementaci√≥.</p>
<p>Tot projecte desenvolupat amb Processing IDE (igual que altres IDEs) necessita d'un punt d'entrada, fitxer principal o <strong>main</strong>. Aquest fitxer principal o main √©s el que cont√© els m√®todes setup, draw, i tots els controladors d'esdeveniments i tamb√© ser√† el lloc des del qual es far√† √∫s de les classes i objectes que formaran part del projecte. En altres paraules, el que hem estat fent fins ara amb les activitats realitzades en Processing IDE. Per √∫ltim i no menys important, √©s en aquest fitxer en el que s'executen totes les ordres de dibuix a l'sketch.</p>
<p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-0-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-0-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-0-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-0-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-0-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-0-10">10</a></span>
<span class="normal"><a href="#__codelineno-0-11">11</a></span>
<span class="normal"><a href="#__codelineno-0-12">12</a></span>
<span class="normal"><a href="#__codelineno-0-13">13</a></span>
<span class="normal"><a href="#__codelineno-0-14">14</a></span>
<span class="normal"><a href="#__codelineno-0-15">15</a></span>
<span class="normal"><a href="#__codelineno-0-16">16</a></span>
<span class="normal"><a href="#__codelineno-0-17">17</a></span>
<span class="normal"><a href="#__codelineno-0-18">18</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="w">    </span><span class="c1">// Variables globals</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="w">    </span><span class="c1">// Configuraci√≥ inicial de l'aplicaci√≥</span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="w">    </span><span class="c1">// Bucle de joc o m√®tode draw</span>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">draw</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a><span class="w">    </span><span class="c1">// Control d'esdeveniments</span>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">mouseClicked</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">keyPressed</span><span class="w">   </span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">keyReleased</span><span class="w">  </span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a><span class="w">    </span><span class="c1">// Altres esdeveniments</span>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a><span class="w">    </span>
</code></pre></div></td></tr></table></div>
    Crea un projecte amb Processing IDE com s'ha explicat en aquest apartat amb nom <strong>"SistemaParticules"</strong>. Aquest projecte ha de tindre dos fitxers: el principal o main de l'entorn de desenvolupament i un altre que contindr√† la futura classe <strong>"Particula.java"</strong>  que havies dissenyat a l'activitat anterior. </p>
<div class="highlight"><pre><span></span><code>    Per tal de no repetir el mateix resultat del volc√† que farem com a exemple el resultat que obtindreu ser√† una pluja. Les particules en el vostre cas seran gotes de pluja que cauen des des totes les posicions de l'eix y superior en diferents direccions, velocitats i tamanys.
</code></pre></div>
<p>Aquest codi √©s el que cont√© el punt d'entrada principal a l'aplicaci√≥ √©s el que donar√† nom al projecte, per tant tindr√† el mateix nom que la carpeta que el cont√©. Crea el teu projecte de particules i guarda'l amb el nom <strong>SistemaParticules</strong>.</p>
<p>Una vegada ja tenim el nostre projecte creat s'afegirien les classes necess√†ries. En el nostre cas tindrem una unica classe que es diu <strong>Particula</strong>. Aquesta acci√≥ resultar√† en un nou fitxer dins del projecte que s'acaba de crear. Per tal de crear aquesta classe realitza les seg√ºents accions:</p>
<p><center>
<img src="../assets/Tema5/CrearClasse1.png" width="60%"/>
</center></p>
<p>Si es fa clic amb el ratol√≠ el que es marca a la imatge anterior ens apareixeran les seg√ºents opcions: "Nova pestanya", "Reanomena", "Elimina", "Pestanya Anterior", "Pestanya seg√ºent" ... Hem d'escollir l'opci√≥ <strong>Nova Pestanya</strong> i al di√†leg que apareixer√† li posarem <strong>Particula.java</strong>, el nom de la classe que volem crear. El resultat final ser√† que el nostre editor del Processing IDE tindr√† dues pestanyes: el main que hem anomenat SistemaParticules i la classe Particula.java. </p>
<p><center>
<img src="../assets/Tema5/CrearClasse2.png" width="60%"/>
</center></p>
<div class="admonition danger">
<p class="admonition-title">Compte amb l'extensi√≥ de la classe Part√≠cula</p>
<p>Fixa't que el nom de la classe part√≠cula t√© extensi√≥ java i no pde. Aix√≤ √©s molt important.</p>
<p>Veiem-ho amb m√©s detall. Processing IDE usa un tipus de classe que fa √∫s dels PApplets (o Applets de Processing IDE) per poder dibuixar per exemple amb les funcions de dibuix que ens ofereix l'API de Processing IDE. Per tant t√©    Crea un projecte amb Processing IDE com s'ha explicat en aquest apartat amb nom <strong>"SistemaParticules"</strong>. Aquest projecte ha de tindre dos fitxers: el principal o main de l'entorn de desenvolupament i un altre que contindr√† la futura classe <strong>"Particula.java"</strong>  que havies dissenyat a l'activitat anterior. </p>
<div class="highlight"><pre><span></span><code>Per tal de no repetir el mateix resultat del volc√† que farem com a exemple el resultat que obtindreu ser√† una pluja. Les particules en el vostre cas seran gotes de pluja que cauen des des totes les posicions de l'eix y superior en diferents direccions, velocitats i tamanys. un funcionament un poc peculiar i √©s per aquest motiu que no podrem posar atributs est√†tics dins d'una classe com si podriem fer en altres entorns de desenvolupament.
</code></pre></div>
<p>El problema que tenim √©s que si la nostra classe Particula √©s .pde no podrem treballar amb m√®todes i atributs est√†tics sense convertir tota la classe en est√†tica cosa no que no seria viable. Per√≤ si l'opci√≥ que escollim finalment √©s guardar la nostra particual com a "Particula.java" ens trobarem en que ja no podem usar m√®todes de dibuix de Processing IDE. </p>
<p>Convertir la classe Particula.pde a Particula.java. S√≠ que podem posar atributs i m√®todes est√†tics per√≤ no poden fer √∫s de les funcionalitat de la llibreria de Processing IDE com les de dibuix, per tant el m√®tode mostrar ja no funcionaria.</p>
<p>Pareix ser que hem arribat a un carrer√≥ sense eixida, per√≤ encara ens queda una √∫ltima opci√≥ que √©s passar-li l'sketch (PApplet) a la classe part√≠cula quan ho necessitem.</p>
</div>
<p>A partir d'ara ja podem comen√ßar a escriure el codi de la nostra classe Particula basant-nos en les fases d'an√†lisi i disseny anteriors. Per√≤ primer vegem quina √©s la sintaxi del llenguatge Java per a implementar classes.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span>
<span class="normal"><a href="#__codelineno-1-2">2</a></span>
<span class="normal"><a href="#__codelineno-1-3">3</a></span>
<span class="normal"><a href="#__codelineno-1-4">4</a></span>
<span class="normal"><a href="#__codelineno-1-5">5</a></span>
<span class="normal"><a href="#__codelineno-1-6">6</a></span>
<span class="normal"><a href="#__codelineno-1-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="w">    </span><span class="c1">// Imports a altres llibreries</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="w">    </span><span class="kd">class</span> <span class="nc">NomClasse</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="w">        </span><span class="c1">// Atributs: caracter√≠stiques que defineixen l‚Äôestat de la classe</span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="w">        </span><span class="c1">// Constructor: m√®tode que s'executa quan es crea un nou objecte de la classe</span>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="w">        </span><span class="c1">// M√®todes: accions que defineixen el comportament de la classe</span>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>Al nostre cas la nostra classe inicial en Java podria ser la seg√ºent:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span>
<span class="normal"><a href="#__codelineno-2-2">2</a></span>
<span class="normal"><a href="#__codelineno-2-3">3</a></span>
<span class="normal"><a href="#__codelineno-2-4">4</a></span>
<span class="normal"><a href="#__codelineno-2-5">5</a></span>
<span class="normal"><a href="#__codelineno-2-6">6</a></span>
<span class="normal"><a href="#__codelineno-2-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="w">    </span><span class="c1">// Aquestes llibreries seran necess√†ries per poder usar elements de la llibreria de Processing IDE</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="w">    </span><span class="kn">import</span><span class="w"> </span><span class="nn">processing.core.PApplet</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="w">    </span><span class="kn">import</span><span class="w"> </span><span class="nn">processing.core.PVector</span><span class="p">;</span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="w">    </span><span class="kd">class</span> <span class="nc">Particula</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="w">        </span>
<a id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<details class="question">
<summary>Activitat 602. Crea un projecte en Processing IDE</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio"/><input id="__tabbed_2_2" name="__tabbed_2" type="radio"/><div class="tabbed-labels"><label for="__tabbed_2_1">Problema</label><label for="__tabbed_2_2">Soluci√≥</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Crea un projecte amb Processing IDE com s'ha explicat en aquest apartat amb nom <strong>"SistemaParticules"</strong>. Aquest projecte ha de tindre dos fitxers: el principal o main de l'entorn de desenvolupament i un altre que contindr√† la futura classe <strong>"Particula.java"</strong>  que havies dissenyat a l'activitat anterior. </p>
<p>Per tal de no repetir el mateix resultat del volc√† que farem com a exemple el resultat que obtindreu ser√† una pluja. Les particules en el vostre cas seran gotes de pluja que cauen des des totes les posicions de l'eix y superior en diferents direccions, velocitats i tamanys.</p>
</div>
<div class="tabbed-block">
<p><center>üì¶ <strong>Fitxer ZIP amb la soluci√≥ completa</strong></center></p>
<p><center><a class="md-button md-button--secondary" href="./assets/Tema6/act602.zip">üì• Descarrega la soluci√≥</a></center></p>
</div>
</div>
</div>
</details>
<h2 id="propietats-i-metodes-de-les-classes">Propietats i m√®todes de les classes</h2>
<div class="admonition success">
<p class="admonition-title">Criteris d'avaluaci√≥ associats</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"/><span class="task-list-indicator"></span></label> RA4.3. S'han definit propietats i m√®todes.</li>
</ul>
</div>
<p>Per√≤ com pot veure aquesta definici√≥ de classe √©s un poc pobra i falten encara moltes coses, concretament falten <strong>atributs</strong> i <strong>m√®todes</strong>.</p>
<div class="admonition info">
<p class="admonition-title">Recordatori</p>
<p>Un <strong>atribut</strong> √©s una caracter√≠stica de l'entitat que es vol representar i <strong>determinen l'estat</strong> dels objectes de la classe.</p>
<p>Els <strong>metodes</strong> s√≥n els procediments o funcions que <strong>condicionen el comportament</strong> dels objectes de la classe.</p>
</div>
<h3 id="atributs">Atributs</h3>
<p>Els atributs en <strong>Programaci√≥ Orientada a Objectes</strong> l'atribut d'una classe √©s (salvant les dist√†ncies) en programaci√≥ orientada a objectes com una variable en programaci√≥ procedimental.  Per tant ja podem intuir que definir atributs a una classe en java √©s com declarar, en certa manera, una variable en programaci√≥ estructurada cl√†ssica. Recordeu que una varible en java es fa de la seg√ºent forma:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span>
<span class="normal"><a href="#__codelineno-3-2">2</a></span>
<span class="normal"><a href="#__codelineno-3-3">3</a></span>
<span class="normal"><a href="#__codelineno-3-4">4</a></span>
<span class="normal"><a href="#__codelineno-3-5">5</a></span>
<span class="normal"><a href="#__codelineno-3-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="w">    </span><span class="c1">// Declaraci√≥ d'una variable en Java</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="w">    </span><span class="c1">// tipusBase identificador [= valorInicial];</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0f</span><span class="p">;</span>
<a id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">nom</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>Tornem al nostre sistema de particules. Segons el diagrama de classes de l'apartat anterior, la nostra particula tenia les seg√ºents caracter√≠stiques: posicio, direccio, velocitat, pinta, grandaria. Ara es tracta de convertir aquestes caracter√≠stiques en atributs de la classe <strong>Particula</strong> i com que hem dit que un atribut √©s molt semblant a la declaraci√≥ d'una variable en programaci√≥ procedimental, el que hem de fer primer √©s trobar-los un tipus de dades adequat a cada identificador. </p>
<p>Sembla prou evident que posici√≥ ser√† un PVector, direcci√≥ tamb√© (encara que aquest no siga tan evident), velocitat podria ser un float, pinta pot ser de tipus <strong>color</strong>, un tipus que ens proporciona l'API de Processing IDE i finalment grandaria pot ser un enter.</p>
<p>Una vegada decidits els tipus de dades que s'associaran a les propietats de la nostra classe ja podem comen√ßar a escriure el codi dels atributs de la classe <strong>Particula</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-4-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-4-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-4-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-4-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-4-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-4-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-4-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-4-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-4-10">10</a></span>
<span class="normal"><a href="#__codelineno-4-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="w">    </span><span class="kn">import</span><span class="w"> </span><span class="nn">processing.core.PApplet</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="w">    </span><span class="kn">import</span><span class="w"> </span><span class="nn">processing.core.PVector</span><span class="p">;</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="w">    </span><span class="kd">class</span> <span class="nc">Particula</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="w">        </span><span class="n">PVector</span><span class="w"> </span><span class="n">posicio</span><span class="p">;</span><span class="w">     </span><span class="c1">// Vector de posici√≥ de la part√≠cula (on est√†)</span>
<a id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="w">        </span><span class="n">PVector</span><span class="w"> </span><span class="n">direccio</span><span class="p">;</span><span class="w">    </span><span class="c1">// Direcci√≥ en la que s'est√† movent la part√≠cula (normalitzat)</span>
<a id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="w">        </span><span class="n">PVector</span><span class="w"> </span><span class="n">vel</span><span class="p">;</span><span class="w">         </span><span class="c1">// Vector de velocitat</span>
<a id="__codelineno-4-8" name="__codelineno-4-8"></a><span class="w">        </span><span class="kt">float</span><span class="w">   </span><span class="n">velocitat</span><span class="p">;</span><span class="w">   </span><span class="c1">// Velocitat escalar (magnitud) de la part√≠cula</span>
<a id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="w">        </span><span class="kt">int</span><span class="w">     </span><span class="n">pinta</span><span class="p">;</span><span class="w">       </span><span class="c1">// Color amb que es pinta la part√¨cula (format ARGB 0xFFFFFFF)</span>
<a id="__codelineno-4-10" name="__codelineno-4-10"></a><span class="w">        </span><span class="kt">int</span><span class="w">     </span><span class="n">grandaria</span><span class="p">;</span><span class="w">   </span><span class="c1">// Diametre de la part√≠cula (al volc√† seran cercles)</span>
<a id="__codelineno-4-11" name="__codelineno-4-11"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<div class="admonition warning">
<p class="admonition-title">Full d'estils</p>
<p>Fixa't que en la declaraci√≥ dels atributs i referent a l'estil en el que s'intentar√† escriure codi en aquest curs, no hi ha sempre un sol espai entre tipus de dades i identificador sino que s'escriuen en dos columnes diferent.</p>
<p>Recorda que tamb√© encara que no estiguen, s'han de posar comentaris de documentaci√≥ als atributs per tal que en cas de √©sser necessari poder generar el manual de refer√®ncia de la classe amb javadoc.</p>
</div>
<details class="question">
<summary>Activitat 603. Atributs de les part√≠cules</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio"/><input id="__tabbed_3_2" name="__tabbed_3" type="radio"/><div class="tabbed-labels"><label for="__tabbed_3_1">Problema</label><label for="__tabbed_3_2">Soluci√≥</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Igual que hem fet amb la part√≠cula del nostre sistema (volc√†). Has de definir els atributs o propietats de la classe part√≠cula del teu sistema (pluja). Analitza detingudament que √©s el que esperes que passe amb el teu sistema pluja i quines han de ser les caracter√≠stiques que haurien de tindre les gotes (particules) de la pluja (sistema de part√≠cules).</p>
<p>Recorda que has de posar comentaris de documentaci√≥ als atributs. Pots aprofitar per explicar la justificaci√≥ del perqu√® consideres importants els atributs o propietats que has escollit.</p>
</div>
<div class="tabbed-block">
<p><center>üì¶ <strong>Fitxer ZIP amb la soluci√≥ completa</strong></center></p>
<p><center><a class="md-button md-button--secondary" href="../assets/Tema6/act603.zip">üì• Descarrega la soluci√≥</a></center></p>
</div>
</div>
</div>
</details>
<h3 id="els-constructors-de-classe">Els Constructors de classe</h3>
<div class="admonition success">
<p class="admonition-title">Criteris d'avaluaci√≥ associats</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"/><span class="task-list-indicator"></span></label> RA4.4. S'han creat constructors</li>
</ul>
</div>
<p>Una vegada ja tenim definida a la nostra classe <strong>Particula</strong>, almenys els seus atributs o propietats, el que hem de fer √©s definir un dels m√®todes principals de tota classe: <strong>el constructor de classe</strong>.</p>
<p>Un <strong>Constructor</strong> √©s un m√®tode o funci√≥ per√≤ amb una s√®rie de caracter√≠stiques especials.</p>
<ol>
<li>No retorna res</li>
<li>T√© exactament el mateix identificador que l'identificador de la classe</li>
<li>S'executa de forma autom√†tica en crear un nou objecte amb la paraula reservada <strong>new</strong></li>
</ol>
<p>Hi han dos tipus de constructors: el constructor per defecte i els constructors parametritzats. </p>
<p>Es poden escriure tants constructors com siga necessari per√≤ lo normal √©s crear un constructor per defecte sense par√†metres i un parametritzat.</p>
<p>En cas que el programador no definisca cap constructor al codi de la seua classe, √©s el compilador de java el que el genera autom√†ticament.</p>
<p>A la nostra classe <strong>Particula</strong> el constructor quedaria de la seg√ºent manera:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-5-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-5-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-5-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-5-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-5-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-5-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-5-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-5-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-5-10">10</a></span>
<span class="normal"><a href="#__codelineno-5-11">11</a></span>
<span class="normal"><a href="#__codelineno-5-12">12</a></span>
<span class="normal"><a href="#__codelineno-5-13">13</a></span>
<span class="normal"><a href="#__codelineno-5-14">14</a></span>
<span class="normal"><a href="#__codelineno-5-15">15</a></span>
<span class="normal"><a href="#__codelineno-5-16">16</a></span>
<span class="normal"><a href="#__codelineno-5-17">17</a></span>
<span class="normal"><a href="#__codelineno-5-18">18</a></span>
<span class="normal"><a href="#__codelineno-5-19">19</a></span>
<span class="normal"><a href="#__codelineno-5-20">20</a></span>
<span class="normal"><a href="#__codelineno-5-21">21</a></span>
<span class="normal"><a href="#__codelineno-5-22">22</a></span>
<span class="normal"><a href="#__codelineno-5-23">23</a></span>
<span class="normal"><a href="#__codelineno-5-24">24</a></span>
<span class="normal"><a href="#__codelineno-5-25">25</a></span>
<span class="normal"><a href="#__codelineno-5-26">26</a></span>
<span class="normal"><a href="#__codelineno-5-27">27</a></span>
<span class="normal"><a href="#__codelineno-5-28">28</a></span>
<span class="normal"><a href="#__codelineno-5-29">29</a></span>
<span class="normal"><a href="#__codelineno-5-30">30</a></span>
<span class="normal"><a href="#__codelineno-5-31">31</a></span>
<span class="normal"><a href="#__codelineno-5-32">32</a></span>
<span class="normal"><a href="#__codelineno-5-33">33</a></span>
<span class="normal"><a href="#__codelineno-5-34">34</a></span>
<span class="normal"><a href="#__codelineno-5-35">35</a></span>
<span class="normal"><a href="#__codelineno-5-36">36</a></span>
<span class="normal"><a href="#__codelineno-5-37">37</a></span>
<span class="normal"><a href="#__codelineno-5-38">38</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="w">    </span><span class="kn">import</span><span class="w"> </span><span class="nn">processing.core.PApplet</span><span class="p">;</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="w">    </span><span class="kn">import</span><span class="w"> </span><span class="nn">processing.core.PVector</span><span class="p">;</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="w">    </span><span class="kd">class</span> <span class="nc">Particula</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="w">        </span><span class="n">PVector</span><span class="w"> </span><span class="n">posicio</span><span class="p">;</span>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="w">        </span><span class="n">PVector</span><span class="w"> </span><span class="n">direccio</span><span class="p">;</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="w">        </span><span class="n">PVector</span><span class="w"> </span><span class="n">vel</span><span class="p">;</span>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="w">        </span><span class="kt">float</span><span class="w">   </span><span class="n">velocitat</span><span class="p">;</span>
<a id="__codelineno-5-9" name="__codelineno-5-9"></a><span class="w">        </span><span class="kt">int</span><span class="w">     </span><span class="n">pinta</span><span class="p">;</span>
<a id="__codelineno-5-10" name="__codelineno-5-10"></a><span class="w">        </span><span class="kt">int</span><span class="w">     </span><span class="n">grandaria</span><span class="p">;</span>
<a id="__codelineno-5-11" name="__codelineno-5-11"></a>
<a id="__codelineno-5-12" name="__codelineno-5-12"></a><span class="w">        </span><span class="c1">// Constructor de la classe Particula (per defecte)</span>
<a id="__codelineno-5-13" name="__codelineno-5-13"></a><span class="w">        </span><span class="n">Particula</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-14" name="__codelineno-5-14"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">posicio</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PVector</span><span class="w"> </span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">20</span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-5-15" name="__codelineno-5-15"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">direccio</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PVector</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span><span class="w">  </span><span class="c1">// Cap amunt.</span>
<a id="__codelineno-5-16" name="__codelineno-5-16"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">velocitat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<a id="__codelineno-5-17" name="__codelineno-5-17"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">pinta</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="mh">0xFFFF0000</span><span class="p">;</span><span class="w">          </span><span class="c1">// Escrit en format ARGB (el primer parell de simbols √©s l'alpha)</span>
<a id="__codelineno-5-18" name="__codelineno-5-18"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">grandaria</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span><span class="p">;</span>
<a id="__codelineno-5-19" name="__codelineno-5-19"></a>
<a id="__codelineno-5-20" name="__codelineno-5-20"></a><span class="w">            </span><span class="c1">// Calculem la velocitat vectorial</span>
<a id="__codelineno-5-21" name="__codelineno-5-21"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">vel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">direccio</span><span class="p">.</span><span class="na">copy</span><span class="p">();</span>
<a id="__codelineno-5-22" name="__codelineno-5-22"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">vel</span><span class="p">.</span><span class="na">normalize</span><span class="p">();</span>
<a id="__codelineno-5-23" name="__codelineno-5-23"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">vel</span><span class="p">.</span><span class="na">mult</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">velocitat</span><span class="p">);</span>
<a id="__codelineno-5-24" name="__codelineno-5-24"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-5-25" name="__codelineno-5-25"></a>
<a id="__codelineno-5-26" name="__codelineno-5-26"></a><span class="w">        </span><span class="c1">// Constructor parametritzat</span>
<a id="__codelineno-5-27" name="__codelineno-5-27"></a><span class="w">        </span><span class="n">Particula</span><span class="w"> </span><span class="p">(</span><span class="n">PVector</span><span class="w"> </span><span class="n">pos</span><span class="p">,</span><span class="w"> </span><span class="n">PVector</span><span class="w"> </span><span class="n">dir</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">vel</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">gran</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-28" name="__codelineno-5-28"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">posicio</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">pos</span><span class="p">;</span>
<a id="__codelineno-5-29" name="__codelineno-5-29"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">direccio</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">dir</span><span class="p">;</span>
<a id="__codelineno-5-30" name="__codelineno-5-30"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">velocitat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vel</span><span class="p">;</span>
<a id="__codelineno-5-31" name="__codelineno-5-31"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">grandaria</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gran</span><span class="p">;</span>
<a id="__codelineno-5-32" name="__codelineno-5-32"></a>
<a id="__codelineno-5-33" name="__codelineno-5-33"></a><span class="w">            </span><span class="c1">// Calculem la velocitat vectorial</span>
<a id="__codelineno-5-34" name="__codelineno-5-34"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">vel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">direccio</span><span class="p">.</span><span class="na">copy</span><span class="p">();</span>
<a id="__codelineno-5-35" name="__codelineno-5-35"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">vel</span><span class="p">.</span><span class="na">normalize</span><span class="p">();</span>
<a id="__codelineno-5-36" name="__codelineno-5-36"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">vel</span><span class="p">.</span><span class="na">mult</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">velocitat</span><span class="p">);</span>
<a id="__codelineno-5-37" name="__codelineno-5-37"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-5-38" name="__codelineno-5-38"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<details class="question">
<summary>Activitat 604. Constructor de part√≠cules</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio"/><input id="__tabbed_4_2" name="__tabbed_4" type="radio"/><div class="tabbed-labels"><label for="__tabbed_4_1">Problema</label><label for="__tabbed_4_2">Soluci√≥</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Igual que a l'exemple del sistema de part√≠cules, crea dos constructors de la classe part√≠cula del teu sistema de part√≠cules pluja. Un ser√† el constructor per defecte (sense par√†metres) i l'altre seria el constructor parametritzat que inicialitza els valors del nostre objecte particula (de pluja).</p>
<p>Despr√©s declara dos objectes de la classe Particula al main del teu projecte, concretament a la secci√≥ de variables globals i al m√®tode setup fer que es cride als dos constructors que acabes d'implementar.</p>
</div>
<div class="tabbed-block">
<p><center>üì¶ <strong>Fitxer ZIP amb la soluci√≥ completa</strong></center></p>
<p><center><a class="md-button md-button--secondary" href="../assets/Tema6/act604.zip">üì• Descarrega la soluci√≥</a></center></p>
</div>
</div>
</div>
</details>
<p>Una vegada tenim creats els constructors de la classe, cal recordar que un constructor de classe serveix per a crear <strong>inst√†ncies</strong> d'eixa classe. Recordeu que un objecte al final √©s una inst√†ncia d'una classe.</p>
<h2 id="instancies">Inst√†ncies</h2>
<div class="admonition success">
<p class="admonition-title">Criteris d'avaluaci√≥ associats</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"/><span class="task-list-indicator"></span></label> RA4.5. S'han desenvolupat programes que instancien i utilitzin objectes de les classes creades anteriorment</li>
</ul>
</div>
<p>Encara que segurament ja ho haur√†s fet per comprovar que els m√®todes de les classes que has definit funcionen i tamb√© ho varem comen√ßar a utilitzar al tema 3 sobre programaci√≥ orientada a objectes, ha arribat el moment <strong>d'instanciar</strong> objectes a partir de les classes dissenyades utilitzant els constructors de classe.</p>
<div class="admonition info">
<p class="admonition-title">Definici√≥ d'instanciar</p>
<p>Mecanisme mitjan√ßat el qual el programador (usuari d'una llibreria de classes) pot crear objectes d'una classe concreta usant algun dels seus constructors. </p>
</div>
<p>Instanciar un objecte d'una classe (aka: crear un objecte a partir d'una classe) √©s relativament simple i molt semblant a quan declaravem variables amb els tipus b√†sics de java. Per exemple, si voliem declarar una variable 'contador' de tipus entera ho feiem aix√≠:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span>
<span class="normal"><a href="#__codelineno-6-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">contador</span><span class="p">;</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="w">    </span><span class="n">contador</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>El proc√©s per crear objectes a partir d'una classe (instanciar) √©s molt semblant per√≤ en lloc d'usar tipus b√†sics utilitzem el nom de la classe. Mira l'exemple seg√ºent on declarem dos objectes p1 i p2 de la classe Particula i els instanciem amb els dos constructors a les l√≠nies seg√ºent:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1">1</a></span>
<span class="normal"><a href="#__codelineno-7-2">2</a></span>
<span class="normal"><a href="#__codelineno-7-3">3</a></span>
<span class="normal"><a href="#__codelineno-7-4">4</a></span>
<span class="normal"><a href="#__codelineno-7-5">5</a></span>
<span class="normal"><a href="#__codelineno-7-6">6</a></span>
<span class="normal"><a href="#__codelineno-7-7">7</a></span>
<span class="normal"><a href="#__codelineno-7-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="w">    </span><span class="c1">// Inst√†ncia d'una particula p1 amb el constructor per defecte</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="w">    </span><span class="n">Particula</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Particula</span><span class="w"> </span><span class="p">();</span><span class="w"> </span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="w">    </span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="w">    </span><span class="c1">// Inst√†ncia d'una particula p1 amb el constructor parametritzat</span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="w">    </span><span class="n">PVector</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PVector</span><span class="p">(</span><span class="mi">320</span><span class="p">,</span><span class="w"> </span><span class="mi">240</span><span class="p">);</span>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="w">    </span><span class="n">PVector</span><span class="w"> </span><span class="n">dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PVector</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a>
<a id="__codelineno-7-8" name="__codelineno-7-8"></a><span class="w">    </span><span class="n">Particula</span><span class="w"> </span><span class="n">p2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Particula</span><span class="w"> </span><span class="p">(</span><span class="n">pos</span><span class="p">,</span><span class="w"> </span><span class="n">dir</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>Per√≤ si et fixes b√© p1 i p2 no s√≥n les √∫niques inst√†ncies. Quantes creacions d'objectes (inst√†ncies) i de quina classe s√≥n els objectes de l'exemple anterior?</p>
<ul>
<li><strong>p1</strong> objecte de la classe Particula.</li>
<li><strong>pos</strong> objecte de la classe PVector.</li>
<li><strong>dir</strong> objecte de la classe PVector.</li>
<li><strong>p2</strong> objecte de la classe Particula.</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Identficadors significatius</p>
<p>Recorda que √©s molt important que tries b√© els identificadors dels elements que formen part dels teus projectes, ja que ajuden a poder seguir i llegir millor el codi desenvolupat.</p>
</div>
<details class="question">
<summary>Activitat 605. Les gotes de pluja</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio"/><input id="__tabbed_5_2" name="__tabbed_5" type="radio"/><div class="tabbed-labels"><label for="__tabbed_5_1">Problema</label><label for="__tabbed_5_2">Soluci√≥</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Al final al teu sistema de part√≠cules de la pluja el que acabar√†s instanciant s√≥n gotes de pluja. Crea almenys cinc gotes de pluja diferents entre elles utilitzant els constructors de la classe Particula. Encara que no es mostren de moment les par√≠cules per pantalla, hauries d'aconseguir que foren diferents entre elles. Quan m√©s automatizada tinques la difer√®ncia entre gotes millor.</p>
</div>
<div class="tabbed-block">
<p><center>üì¶ <strong>Fitxer ZIP amb la soluci√≥ completa</strong></center></p>
<p><center><a class="md-button md-button--secondary" href="../assets/Tema6/act605.zip">üì• Descarrega la soluci√≥</a></center></p>
</div>
</div>
</div>
</details>
<h3 id="els-metodes">Els m√®todes</h3>
<p>Abans d‚Äôimplementar el comportament de les nostres part√≠cules (com es mouen, com canvien de color o com desapareixen), hem d‚Äôaprendre com expressar aquestes accions mitjan√ßant funcions i m√®todes. Aquest apartat servir√† per entendre la base sobre la qual construirem els comportaments del sistema de part√≠cules.</p>
<p>Continuant amb les classes anteriors, caldria que ens f√©rem les seg√ºents q√ºestions: 
1. Quines accions s√≥n les que pot realitzar el nostre piroclast? 
2. En que afecta eixes accions als atributs que hem escollit per definir-la?</p>
<p>Un <strong>m√®tode</strong> √©s una <strong>funci√≥ definida dins d'una classe</strong> que descriu una <strong>acci√≥ o comportament</strong> que poden realitzar els objectes d'aquella classe.</p>
<p>Els m√®todes s√≥n els que determinen com interactua un objecte amb si mateix o amb altres objectes, √©s a dir, el seu comportament, i permeten modificar o consultar el seu estat (els seus atributs)</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-8-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-8-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-8-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-8-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-8-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-8-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-8-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-8-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-8-10">10</a></span>
<span class="normal"><a href="#__codelineno-8-11">11</a></span>
<span class="normal"><a href="#__codelineno-8-12">12</a></span>
<span class="normal"><a href="#__codelineno-8-13">13</a></span>
<span class="normal"><a href="#__codelineno-8-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="c1">// Funci√≥ simple </span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">mostraEstat</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="s">"Soc una particula i estic viva"</span><span class="p">);</span>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="p">}</span>
<a id="__codelineno-8-5" name="__codelineno-8-5"></a>
<a id="__codelineno-8-6" name="__codelineno-8-6"></a><span class="c1">// Funci√≥ amb par√†metres</span>
<a id="__codelineno-8-7" name="__codelineno-8-7"></a><span class="kt">void</span><span class="w"> </span><span class="nf">sayMyName</span><span class="w"> </span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">strNom</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-8" name="__codelineno-8-8"></a><span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="s">"Hola M√≥n, soc la part√≠cula "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">strNom</span><span class="p">);</span>
<a id="__codelineno-8-9" name="__codelineno-8-9"></a><span class="p">}</span>
<a id="__codelineno-8-10" name="__codelineno-8-10"></a>
<a id="__codelineno-8-11" name="__codelineno-8-11"></a><span class="c1">// Funci√≥ que torna algun valor</span>
<a id="__codelineno-8-12" name="__codelineno-8-12"></a><span class="n">String</span><span class="w"> </span><span class="nf">canviaNom</span><span class="w"> </span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">strNom</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-13" name="__codelineno-8-13"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">strNom</span><span class="p">.</span><span class="na">reverse</span><span class="p">();</span>
<a id="__codelineno-8-14" name="__codelineno-8-14"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<details class="question">
<summary>Activitat 606. M√®todes a les classes</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="6:2"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio"/><input id="__tabbed_6_2" name="__tabbed_6" type="radio"/><div class="tabbed-labels"><label for="__tabbed_6_1">Problema</label><label for="__tabbed_6_2">Solucio</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Escriu un m√®tode que retorne l'identificador dels objectes. De la mateixa forma que als m√®todes anteriors, afegirem un m√®tode a la classe Particula que salude i ens diga el nom de la seg√ºent forma: "Hola soc pluja$Particula@13e68b75"</p>
<p>El nom d'un objecte (o identificador) es pot obtindre cridant a:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">toString</span><span class="p">();</span>
</code></pre></div></td></tr></table></div></p>
<p>Per comprovar si tot funciona correctament has de cridar al m√®tode diguesHola just despr√©s de crear els objectes al m√®tode setup del main.</p>
<p><strong>Reflexiona:</strong> Qu√® ha de tornar aquest m√®tode? Qu√≠ s'ha d'encarregar de fer el println?</p>
</div>
<div class="tabbed-block">
<p><center>üì¶ <strong>Fitxer ZIP amb la soluci√≥ completa</strong></center></p>
<p><center><a class="md-button md-button--secondary" href="../assets/Tema6/act606.zip">üì• Descarrega la soluci√≥</a></center></p>
</div>
</div>
</div>
</details>
<p>Continuant amb el nostre sistema de part√≠cules del volc√† podriem fer un m√®tode que s'encarregue de mostrar els objectes particula del sistema. Per√≤ al tractar-se d'un fitxer .java i no un .pde no podem fer √∫s d'algunes de les funcionalitats de l'API de Processing IDE com: fill, stroke, ellipse, circle etc.. √©s per tant necessari que la interf√≠cies del nostre m√®tode mostrar tina un par√†metre de la classe PApplet.  Ja veurem despr√©s quin argument usarem quan cridem al m√®tode mostrar.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-10-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-10-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-10-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-10-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-10-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-10-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-10-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-10-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-10-10">10</a></span>
<span class="normal"><a href="#__codelineno-10-11">11</a></span>
<span class="normal"><a href="#__codelineno-10-12">12</a></span>
<span class="normal"><a href="#__codelineno-10-13">13</a></span>
<span class="normal"><a href="#__codelineno-10-14">14</a></span>
<span class="normal"><a href="#__codelineno-10-15">15</a></span>
<span class="normal"><a href="#__codelineno-10-16">16</a></span>
<span class="normal"><a href="#__codelineno-10-17">17</a></span>
<span class="normal"><a href="#__codelineno-10-18">18</a></span>
<span class="normal"><a href="#__codelineno-10-19">19</a></span>
<span class="normal"><a href="#__codelineno-10-20">20</a></span>
<span class="normal"><a href="#__codelineno-10-21">21</a></span>
<span class="normal"><a href="#__codelineno-10-22">22</a></span>
<span class="normal"><a href="#__codelineno-10-23">23</a></span>
<span class="normal"><a href="#__codelineno-10-24">24</a></span>
<span class="normal"><a href="#__codelineno-10-25">25</a></span>
<span class="normal"><a href="#__codelineno-10-26">26</a></span>
<span class="normal"><a href="#__codelineno-10-27">27</a></span>
<span class="normal"><a href="#__codelineno-10-28">28</a></span>
<span class="normal"><a href="#__codelineno-10-29">29</a></span>
<span class="normal"><a href="#__codelineno-10-30">30</a></span>
<span class="normal"><a href="#__codelineno-10-31">31</a></span>
<span class="normal"><a href="#__codelineno-10-32">32</a></span>
<span class="normal"><a href="#__codelineno-10-33">33</a></span>
<span class="normal"><a href="#__codelineno-10-34">34</a></span>
<span class="normal"><a href="#__codelineno-10-35">35</a></span>
<span class="normal"><a href="#__codelineno-10-36">36</a></span>
<span class="normal"><a href="#__codelineno-10-37">37</a></span>
<span class="normal"><a href="#__codelineno-10-38">38</a></span>
<span class="normal"><a href="#__codelineno-10-39">39</a></span>
<span class="normal"><a href="#__codelineno-10-40">40</a></span>
<span class="normal"><a href="#__codelineno-10-41">41</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="w">    </span><span class="kd">class</span> <span class="nc">Particula</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="w">        </span><span class="n">PVector</span><span class="w"> </span><span class="n">posicio</span><span class="p">;</span>
<a id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="w">        </span><span class="n">PVector</span><span class="w"> </span><span class="n">direccio</span><span class="p">;</span>
<a id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="w">        </span><span class="n">PVector</span><span class="w"> </span><span class="n">vel</span><span class="p">;</span>
<a id="__codelineno-10-5" name="__codelineno-10-5"></a><span class="w">        </span><span class="kt">float</span><span class="w">   </span><span class="n">velocitat</span><span class="p">;</span>
<a id="__codelineno-10-6" name="__codelineno-10-6"></a><span class="w">        </span><span class="kt">int</span><span class="w">     </span><span class="n">pinta</span><span class="p">;</span>
<a id="__codelineno-10-7" name="__codelineno-10-7"></a><span class="w">        </span><span class="kt">int</span><span class="w">     </span><span class="n">grandaria</span><span class="p">;</span>
<a id="__codelineno-10-8" name="__codelineno-10-8"></a>
<a id="__codelineno-10-9" name="__codelineno-10-9"></a><span class="w">        </span><span class="c1">// Constructor de la classe Particula (per defecte)</span>
<a id="__codelineno-10-10" name="__codelineno-10-10"></a><span class="w">        </span><span class="n">Particula</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-11" name="__codelineno-10-11"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">posicio</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PVector</span><span class="w"> </span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">20</span><span class="p">);</span><span class="w"> </span><span class="c1">// Pots substituir el (20,20) per randoms</span>
<a id="__codelineno-10-12" name="__codelineno-10-12"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">direccio</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PVector</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span><span class="w">  </span><span class="c1">// Cap amunt. </span>
<a id="__codelineno-10-13" name="__codelineno-10-13"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">velocitat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<a id="__codelineno-10-14" name="__codelineno-10-14"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">pinta</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="err">#</span><span class="mh">0xF00</span><span class="p">;</span>
<a id="__codelineno-10-15" name="__codelineno-10-15"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">grandaria</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span><span class="p">;</span>
<a id="__codelineno-10-16" name="__codelineno-10-16"></a>
<a id="__codelineno-10-17" name="__codelineno-10-17"></a><span class="w">            </span><span class="c1">// Calculem la velocitat vectorial</span>
<a id="__codelineno-10-18" name="__codelineno-10-18"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">vel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">direccio</span><span class="p">.</span><span class="na">copy</span><span class="p">();</span>
<a id="__codelineno-10-19" name="__codelineno-10-19"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">vel</span><span class="p">.</span><span class="na">normalize</span><span class="p">();</span>
<a id="__codelineno-10-20" name="__codelineno-10-20"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">vel</span><span class="p">.</span><span class="na">mult</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">velocitat</span><span class="p">);</span>
<a id="__codelineno-10-21" name="__codelineno-10-21"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-10-22" name="__codelineno-10-22"></a>
<a id="__codelineno-10-23" name="__codelineno-10-23"></a><span class="w">        </span><span class="c1">// Constructor parametritzat</span>
<a id="__codelineno-10-24" name="__codelineno-10-24"></a><span class="w">        </span><span class="n">Particula</span><span class="w"> </span><span class="p">(</span><span class="n">PVector</span><span class="w"> </span><span class="n">pos</span><span class="p">,</span><span class="w"> </span><span class="n">PVector</span><span class="w"> </span><span class="n">dir</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">vel</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">gran</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-25" name="__codelineno-10-25"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">posicio</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">pos</span><span class="p">;</span>
<a id="__codelineno-10-26" name="__codelineno-10-26"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">direccio</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">dir</span><span class="p">;</span>
<a id="__codelineno-10-27" name="__codelineno-10-27"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">velocitat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vel</span><span class="p">;</span>
<a id="__codelineno-10-28" name="__codelineno-10-28"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">grandaria</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gran</span><span class="p">;</span>
<a id="__codelineno-10-29" name="__codelineno-10-29"></a>
<a id="__codelineno-10-30" name="__codelineno-10-30"></a><span class="w">            </span><span class="c1">// Calculem la velocitat vectorial</span>
<a id="__codelineno-10-31" name="__codelineno-10-31"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">vel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">direccio</span><span class="p">.</span><span class="na">copy</span><span class="p">();</span>
<a id="__codelineno-10-32" name="__codelineno-10-32"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">vel</span><span class="p">.</span><span class="na">normalize</span><span class="p">();</span>
<a id="__codelineno-10-33" name="__codelineno-10-33"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">vel</span><span class="p">.</span><span class="na">mult</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">velocitat</span><span class="p">);</span>
<a id="__codelineno-10-34" name="__codelineno-10-34"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-10-35" name="__codelineno-10-35"></a>
<a id="__codelineno-10-36" name="__codelineno-10-36"></a><span class="w">        </span><span class="c1">// √âs necessari que el m√®tode mostrar tinga l'sketch on dibuixar-se com a par√†metre</span>
<a id="__codelineno-10-37" name="__codelineno-10-37"></a><span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="nf">mostrar</span><span class="w"> </span><span class="p">(</span><span class="n">PApplet</span><span class="w"> </span><span class="n">app</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-38" name="__codelineno-10-38"></a><span class="w">            </span><span class="n">app</span><span class="p">.</span><span class="na">fill</span><span class="w"> </span><span class="p">(</span><span class="n">pinta</span><span class="p">);</span>
<a id="__codelineno-10-39" name="__codelineno-10-39"></a><span class="w">            </span><span class="n">app</span><span class="p">.</span><span class="na">circle</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">posicio</span><span class="p">.</span><span class="na">x</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">posicio</span><span class="p">.</span><span class="na">y</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">grandaria</span><span class="p">);</span>
<a id="__codelineno-10-40" name="__codelineno-10-40"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-10-41" name="__codelineno-10-41"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>La forma d'usar aquest m√®tode de la classe part√≠cula des del main i seguint amb el que hem estat fins ara al projecte del volc√†, seria la seg√ºent:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-11-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-11-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-11-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-11-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-11-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-11-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-11-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-11-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-11-10">10</a></span>
<span class="normal"><a href="#__codelineno-11-11">11</a></span>
<span class="normal"><a href="#__codelineno-11-12">12</a></span>
<span class="normal"><a href="#__codelineno-11-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="c1">// Variables globals</span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="n">Particula</span><span class="w"> </span><span class="n">p1</span><span class="p">;</span>
<a id="__codelineno-11-3" name="__codelineno-11-3"></a>
<a id="__codelineno-11-4" name="__codelineno-11-4"></a><span class="c1">// M√®tode setup</span>
<a id="__codelineno-11-5" name="__codelineno-11-5"></a><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-11-6" name="__codelineno-11-6"></a><span class="w">    </span><span class="n">size</span><span class="w"> </span><span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="mi">500</span><span class="p">);</span>
<a id="__codelineno-11-7" name="__codelineno-11-7"></a><span class="w">    </span><span class="n">p1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Particula</span><span class="w"> </span><span class="p">();</span>
<a id="__codelineno-11-8" name="__codelineno-11-8"></a><span class="p">}</span>
<a id="__codelineno-11-9" name="__codelineno-11-9"></a>
<a id="__codelineno-11-10" name="__codelineno-11-10"></a><span class="kt">void</span><span class="w"> </span><span class="nf">draw</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-11-11" name="__codelineno-11-11"></a><span class="w">    </span><span class="n">background</span><span class="p">(</span><span class="mi">255</span><span class="p">);</span>
<a id="__codelineno-11-12" name="__codelineno-11-12"></a><span class="w">    </span><span class="n">p1</span><span class="p">.</span><span class="na">mostrar</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="w">   </span><span class="c1">// Al fitxer principal el PApplet √©s ell mateix (this) this seria l'sketch on dibuixar-se la part√≠cula</span>
<a id="__codelineno-11-13" name="__codelineno-11-13"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<details class="question">
<summary>Activitat 607 M√®tode mostrar de la classe part√≠cula</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="7:2"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio"/><input id="__tabbed_7_2" name="__tabbed_7" type="radio"/><div class="tabbed-labels"><label for="__tabbed_7_1">Problema</label><label for="__tabbed_7_2">Solucio</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>A la classe part√≠cula crear un m√®tode mostrar que dibuixe segons les seues propietats: posicio, grandaria i color. Compte amb reutilitzar el codi de l'anterior sistema de part√≠cules perqu√® mentre les particules del sistema volc√† s√≥n cercles de color roig, les gotes de pluja quan cauen es podrien representar (dibuixar) d'una altra manera.</p>
<p>Utilitza aquest m√®tode mostrar fes que les cinc particules que has creat a l'activitat anterior es mostren per pantalla.</p>
</div>
<div class="tabbed-block">
<p><center>üì¶ <strong>Fitxer ZIP amb la soluci√≥ completa</strong></center></p>
<p><center><a class="md-button md-button--secondary" href="../assets/Tema6/act607.zip">üì• Descarrega la soluci√≥</a></center></p>
</div>
</div>
</div>
</details>
<p>Com has pogut observar, les part√≠cules que has creat no es mouen, estan est√†tiques. Aix√≤ √©s perqu√® no tenen implementat el <strong>m√®tode actualitzar</strong>. El nostre sistema de part√≠cules est√† influenciat b√†sicament per les lleis de la f√≠sica, √©s a dir, b√†sicament a les part√≠cules del nostres sistema les afecta: la gravetat, la fricci√≥ amb l'aire, la direcci√≥ i la velocitat inicial i a cada frame haur√† d'actualitzar la seua posici√≥, per√≤ no patisques, et deixe ac√≠ la f√≥rmula f√≠sica necess√†ria per actualitzar la posici√≥ de la part√≠cula agafant els frames com a unitat de temps.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-12-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-12-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-12-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-12-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-12-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-12-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-12-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-12-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-12-10">10</a></span>
<span class="normal"><a href="#__codelineno-12-11">11</a></span>
<span class="normal"><a href="#__codelineno-12-12">12</a></span>
<span class="normal"><a href="#__codelineno-12-13">13</a></span>
<span class="normal"><a href="#__codelineno-12-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">actualitzar</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="w">        </span><span class="n">PVector</span><span class="w"> </span><span class="n">gravetat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PVector</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3</span><span class="p">);</span>
<a id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="w">        </span><span class="n">PVector</span><span class="w"> </span><span class="n">friccio</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">vel</span><span class="p">.</span><span class="na">copy</span><span class="p">();</span>
<a id="__codelineno-12-4" name="__codelineno-12-4"></a><span class="w">        </span><span class="n">friccio</span><span class="p">.</span><span class="na">mult</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-12-5" name="__codelineno-12-5"></a><span class="w">        </span><span class="n">friccio</span><span class="p">.</span><span class="na">normalize</span><span class="p">();</span>
<a id="__codelineno-12-6" name="__codelineno-12-6"></a><span class="w">        </span><span class="n">friccio</span><span class="p">.</span><span class="na">mult</span><span class="p">(</span><span class="mf">0.02</span><span class="p">);</span>
<a id="__codelineno-12-7" name="__codelineno-12-7"></a>
<a id="__codelineno-12-8" name="__codelineno-12-8"></a><span class="w">        </span><span class="n">PVector</span><span class="w"> </span><span class="n">acceleracio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PVector</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-12-9" name="__codelineno-12-9"></a><span class="w">        </span><span class="n">acceleracio</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">gravetat</span><span class="p">);</span>
<a id="__codelineno-12-10" name="__codelineno-12-10"></a><span class="w">        </span><span class="n">acceleracio</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">friccio</span><span class="p">);</span>
<a id="__codelineno-12-11" name="__codelineno-12-11"></a>
<a id="__codelineno-12-12" name="__codelineno-12-12"></a><span class="w">        </span><span class="n">vel</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">acceleracio</span><span class="p">);</span>
<a id="__codelineno-12-13" name="__codelineno-12-13"></a><span class="w">        </span><span class="n">pos</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">vel</span><span class="p">);</span>
<a id="__codelineno-12-14" name="__codelineno-12-14"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<details class="question">
<summary>Activitat 608. M√®tode actualitzar de la classe part√≠cula</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="8:2"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio"/><input id="__tabbed_8_2" name="__tabbed_8" type="radio"/><div class="tabbed-labels"><label for="__tabbed_8_1">Problema</label><label for="__tabbed_8_2">Soluci√≥</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Al teu sistema de part√≠cules de la pluja, implementa el m√®tode actualitzar en base a les lleis de la f√≠sica com em fet a l'exemple anterior.</p>
<p><strong>Algunes idees:</strong> si imagines que l'aplicaci√≥ que est√†s creant √©s una finestra per la que veus la pluja caure has de tindre en compte el factor profunditat. No √©s igual una gota de pluja que cau prop de la finestra que la que cau lluny. </p>
<p>Qualsevol altra cosa que aportes a l'activitat i estiga degudament justificada tamb√© puntuar√†.</p>
</div>
<div class="tabbed-block">
<p><center>üì¶ <strong>Fitxer ZIP amb la soluci√≥ completa</strong></center></p>
<p><center><a class="md-button md-button--secondary" href="../assets/Tema6/act608.zip">üì• Descarrega la soluci√≥</a></center></p>
</div>
</div>
</div>
</details>
<h2 id="modificadors-de-visibilitat">Modificadors de visibilitat</h2>
<div class="admonition success">
<p class="admonition-title">Criteris d'avaluaci√≥ associats</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"/><span class="task-list-indicator"></span></label> RA4.6. S'han utilitzat mecanismes per controlar la visibilitat de les classes i dels seus membres.</li>
</ul>
</div>
<p>Un <strong>principi fonamental</strong> en la programaci√≥ orientada a objectes  √©s l‚Äôocultaci√≥ de la informaci√≥, a√ß√≤ significa que no es pot accedir per m√®todes externs de la classe a determinada informaci√≥ interna. El mecanisme principal per aconseguir-ho √©s posar-los dins d‚Äôuna classe i fer-los privats i aix√≠ nom√©s es podr√† accedir a aquests des de dins de la classe</p>
<p>Existeixen tres diferents especificacions d‚Äôacc√©s o modificadors de visibilitat:</p>
<ul>
<li><strong>public (+):</strong> un m√®tode o atribut t√© una visibilitat p√∫blica quan totes les dem√®s classes poden accedir a ells, b√© siga una altra classe o una subclasse.</li>
<li><strong>Private (-):</strong> sols es pot accedir a ells des del propi codi de la classe.</li>
<li><strong>Protected (#):</strong> nom√©s des del propi codi de la classe o de les seues subclasses es pot accedir.</li>
<li><strong>Package (~):</strong> nom√©s accessible per membres del paquet.</li>
</ul>
<p><center>
<div class="mermaid">    classDiagram
    direction TB

    class Particula {
        - posicio;
        - direccio;
        - vel;
        - velocitat;
        - pinta;
        - grandaria;
        
        + Particula()
        + Particula(PVector pos, PVector dir, float vel, int gran)
        + mostrar()
        + actualitzar()
    }
        
</div>
</center></p>
<p>Aquest diagrama de classes UML s'implementaria de la seg√ºent forma:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-13-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-13-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-13-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-13-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-13-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-13-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-13-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-13-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-13-10">10</a></span>
<span class="normal"><a href="#__codelineno-13-11">11</a></span>
<span class="normal"><a href="#__codelineno-13-12">12</a></span>
<span class="normal"><a href="#__codelineno-13-13">13</a></span>
<span class="normal"><a href="#__codelineno-13-14">14</a></span>
<span class="normal"><a href="#__codelineno-13-15">15</a></span>
<span class="normal"><a href="#__codelineno-13-16">16</a></span>
<span class="normal"><a href="#__codelineno-13-17">17</a></span>
<span class="normal"><a href="#__codelineno-13-18">18</a></span>
<span class="normal"><a href="#__codelineno-13-19">19</a></span>
<span class="normal"><a href="#__codelineno-13-20">20</a></span>
<span class="normal"><a href="#__codelineno-13-21">21</a></span>
<span class="normal"><a href="#__codelineno-13-22">22</a></span>
<span class="normal"><a href="#__codelineno-13-23">23</a></span>
<span class="normal"><a href="#__codelineno-13-24">24</a></span>
<span class="normal"><a href="#__codelineno-13-25">25</a></span>
<span class="normal"><a href="#__codelineno-13-26">26</a></span>
<span class="normal"><a href="#__codelineno-13-27">27</a></span>
<span class="normal"><a href="#__codelineno-13-28">28</a></span>
<span class="normal"><a href="#__codelineno-13-29">29</a></span>
<span class="normal"><a href="#__codelineno-13-30">30</a></span>
<span class="normal"><a href="#__codelineno-13-31">31</a></span>
<span class="normal"><a href="#__codelineno-13-32">32</a></span>
<span class="normal"><a href="#__codelineno-13-33">33</a></span>
<span class="normal"><a href="#__codelineno-13-34">34</a></span>
<span class="normal"><a href="#__codelineno-13-35">35</a></span>
<span class="normal"><a href="#__codelineno-13-36">36</a></span>
<span class="normal"><a href="#__codelineno-13-37">37</a></span>
<span class="normal"><a href="#__codelineno-13-38">38</a></span>
<span class="normal"><a href="#__codelineno-13-39">39</a></span>
<span class="normal"><a href="#__codelineno-13-40">40</a></span>
<span class="normal"><a href="#__codelineno-13-41">41</a></span>
<span class="normal"><a href="#__codelineno-13-42">42</a></span>
<span class="normal"><a href="#__codelineno-13-43">43</a></span>
<span class="normal"><a href="#__codelineno-13-44">44</a></span>
<span class="normal"><a href="#__codelineno-13-45">45</a></span>
<span class="normal"><a href="#__codelineno-13-46">46</a></span>
<span class="normal"><a href="#__codelineno-13-47">47</a></span>
<span class="normal"><a href="#__codelineno-13-48">48</a></span>
<span class="normal"><a href="#__codelineno-13-49">49</a></span>
<span class="normal"><a href="#__codelineno-13-50">50</a></span>
<span class="normal"><a href="#__codelineno-13-51">51</a></span>
<span class="normal"><a href="#__codelineno-13-52">52</a></span>
<span class="normal"><a href="#__codelineno-13-53">53</a></span>
<span class="normal"><a href="#__codelineno-13-54">54</a></span>
<span class="normal"><a href="#__codelineno-13-55">55</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Particula</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="n">PVector</span><span class="w"> </span><span class="n">posicio</span><span class="p">;</span>
<a id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="n">PVector</span><span class="w"> </span><span class="n">direccio</span><span class="p">;</span>
<a id="__codelineno-13-4" name="__codelineno-13-4"></a><span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="n">PVector</span><span class="w"> </span><span class="n">vel</span><span class="p">;</span>
<a id="__codelineno-13-5" name="__codelineno-13-5"></a><span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="kt">float</span><span class="w">   </span><span class="n">velocitat</span><span class="p">;</span>
<a id="__codelineno-13-6" name="__codelineno-13-6"></a><span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w">     </span><span class="n">pinta</span><span class="p">;</span>
<a id="__codelineno-13-7" name="__codelineno-13-7"></a><span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w">     </span><span class="n">grandaria</span><span class="p">;</span>
<a id="__codelineno-13-8" name="__codelineno-13-8"></a>
<a id="__codelineno-13-9" name="__codelineno-13-9"></a><span class="w">        </span><span class="c1">// Constructor de la classe Particula (per defecte)</span>
<a id="__codelineno-13-10" name="__codelineno-13-10"></a><span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="nf">Particula</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-11" name="__codelineno-13-11"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">posicio</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PVector</span><span class="w"> </span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">20</span><span class="p">);</span><span class="w"> </span><span class="c1">// Pots substituir el (20,20) per randoms</span>
<a id="__codelineno-13-12" name="__codelineno-13-12"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">direccio</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PVector</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span><span class="w">  </span><span class="c1">// Cap amunt. </span>
<a id="__codelineno-13-13" name="__codelineno-13-13"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">velocitat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<a id="__codelineno-13-14" name="__codelineno-13-14"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">pinta</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-13-15" name="__codelineno-13-15"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">grandaria</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span><span class="p">;</span>
<a id="__codelineno-13-16" name="__codelineno-13-16"></a>
<a id="__codelineno-13-17" name="__codelineno-13-17"></a><span class="w">            </span><span class="c1">// Calculem la velocitat vectorial</span>
<a id="__codelineno-13-18" name="__codelineno-13-18"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">vel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">direccio</span><span class="p">.</span><span class="na">copy</span><span class="p">();</span>
<a id="__codelineno-13-19" name="__codelineno-13-19"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">vel</span><span class="p">.</span><span class="na">normalize</span><span class="p">();</span>
<a id="__codelineno-13-20" name="__codelineno-13-20"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">vel</span><span class="p">.</span><span class="na">mult</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">velocitat</span><span class="p">);</span>
<a id="__codelineno-13-21" name="__codelineno-13-21"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-13-22" name="__codelineno-13-22"></a>
<a id="__codelineno-13-23" name="__codelineno-13-23"></a><span class="w">        </span><span class="c1">// Constructor parametritzat</span>
<a id="__codelineno-13-24" name="__codelineno-13-24"></a><span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="nf">Particula</span><span class="w"> </span><span class="p">(</span><span class="n">PVector</span><span class="w"> </span><span class="n">pos</span><span class="p">,</span><span class="w"> </span><span class="n">PVector</span><span class="w"> </span><span class="n">dir</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">vel</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">gran</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-25" name="__codelineno-13-25"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">posicio</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">pos</span><span class="p">;</span>
<a id="__codelineno-13-26" name="__codelineno-13-26"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">direccio</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">dir</span><span class="p">;</span>
<a id="__codelineno-13-27" name="__codelineno-13-27"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">velocitat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vel</span><span class="p">;</span>
<a id="__codelineno-13-28" name="__codelineno-13-28"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">grandaria</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gran</span><span class="p">;</span>
<a id="__codelineno-13-29" name="__codelineno-13-29"></a>
<a id="__codelineno-13-30" name="__codelineno-13-30"></a><span class="w">            </span><span class="c1">// Calculem la velocitat vectorial</span>
<a id="__codelineno-13-31" name="__codelineno-13-31"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">vel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">direccio</span><span class="p">.</span><span class="na">copy</span><span class="p">();</span>
<a id="__codelineno-13-32" name="__codelineno-13-32"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">vel</span><span class="p">.</span><span class="na">normalize</span><span class="p">();</span>
<a id="__codelineno-13-33" name="__codelineno-13-33"></a><span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">vel</span><span class="p">.</span><span class="na">mult</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">velocitat</span><span class="p">);</span>
<a id="__codelineno-13-34" name="__codelineno-13-34"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-13-35" name="__codelineno-13-35"></a>
<a id="__codelineno-13-36" name="__codelineno-13-36"></a><span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">mostrar</span><span class="w"> </span><span class="p">(</span><span class="n">PApplet</span><span class="w"> </span><span class="n">app</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-37" name="__codelineno-13-37"></a><span class="w">            </span><span class="n">app</span><span class="p">.</span><span class="na">fill</span><span class="w"> </span><span class="p">(</span><span class="n">pinta</span><span class="p">);</span>
<a id="__codelineno-13-38" name="__codelineno-13-38"></a><span class="w">            </span><span class="n">app</span><span class="p">.</span><span class="na">circle</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">posicio</span><span class="p">.</span><span class="na">x</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">posicio</span><span class="p">.</span><span class="na">y</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">grandaria</span><span class="p">);</span>
<a id="__codelineno-13-39" name="__codelineno-13-39"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-13-40" name="__codelineno-13-40"></a>
<a id="__codelineno-13-41" name="__codelineno-13-41"></a><span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">actualitzar</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-42" name="__codelineno-13-42"></a><span class="w">            </span><span class="n">PVector</span><span class="w"> </span><span class="n">gravetat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PVector</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3</span><span class="p">);</span>
<a id="__codelineno-13-43" name="__codelineno-13-43"></a><span class="w">            </span><span class="n">PVector</span><span class="w"> </span><span class="n">friccio</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">vel</span><span class="p">.</span><span class="na">copy</span><span class="p">();</span>
<a id="__codelineno-13-44" name="__codelineno-13-44"></a><span class="w">            </span><span class="n">friccio</span><span class="p">.</span><span class="na">mult</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-13-45" name="__codelineno-13-45"></a><span class="w">            </span><span class="n">friccio</span><span class="p">.</span><span class="na">normalize</span><span class="p">();</span>
<a id="__codelineno-13-46" name="__codelineno-13-46"></a><span class="w">            </span><span class="n">friccio</span><span class="p">.</span><span class="na">mult</span><span class="p">(</span><span class="mf">0.02</span><span class="p">);</span>
<a id="__codelineno-13-47" name="__codelineno-13-47"></a>
<a id="__codelineno-13-48" name="__codelineno-13-48"></a><span class="w">            </span><span class="n">PVector</span><span class="w"> </span><span class="n">acceleracio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PVector</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-13-49" name="__codelineno-13-49"></a><span class="w">            </span><span class="n">acceleracio</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">gravetat</span><span class="p">);</span>
<a id="__codelineno-13-50" name="__codelineno-13-50"></a><span class="w">            </span><span class="n">acceleracio</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">friccio</span><span class="p">);</span>
<a id="__codelineno-13-51" name="__codelineno-13-51"></a>
<a id="__codelineno-13-52" name="__codelineno-13-52"></a><span class="w">            </span><span class="n">vel</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">acceleracio</span><span class="p">);</span>
<a id="__codelineno-13-53" name="__codelineno-13-53"></a><span class="w">            </span><span class="n">pos</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">vel</span><span class="p">);</span>
<a id="__codelineno-13-54" name="__codelineno-13-54"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-13-55" name="__codelineno-13-55"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<div class="admonition danger">
<p class="admonition-title">Quan usar private i quan public</p>
<p>Per norma els atributs solen tindre un modificador de visibilitat <strong>privat</strong> i tant els m√®todes com les classes solen ser <strong>public</strong></p>
</div>
<details class="question">
<summary>Activitat 609. Modificadors de visibilitat</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="9:2"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio"/><input id="__tabbed_9_2" name="__tabbed_9" type="radio"/><div class="tabbed-labels"><label for="__tabbed_9_1">Problema</label><label for="__tabbed_9_2">Soluci√≥</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Aplica la norma dels modificadors de visibilitat al teu projecte pluja i adapta les classes que ja tens implementades.</p>
</div>
<div class="tabbed-block">
<p><center>üì¶ <strong>Fitxer ZIP amb la soluci√≥ completa</strong></center></p>
<p><center><a class="md-button md-button--secondary" href="./assets/Tema6/act609.zip">üì• Descarrega la soluci√≥</a></center></p>
</div>
</div>
</div>
</details>
<h3 id="get-i-sets">Get i Sets</h3>
<p>Com ja haur√†s pogut advertir ara els atributs al ser privats no s√≥n accessibles des de fora. Per aix√≤ estan els <strong>gets</strong> i <strong>sets</strong>
Avantatge fonamental l'assignaci√≥ de valors als atributs est√† controlada pel programador i no per l'ususari evitant un munt de possibles problemes. </p>
<p>Imagina que l'atribut velocitat de la nostra part√≠cula del sistema (float) √©s p√∫blica, aix√≤ permetria a qualsevol usuari del nostre sistema de part√¨cules fer algo aix√≠:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1">1</a></span>
<span class="normal"><a href="#__codelineno-14-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="w">    </span><span class="n">Particula</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Particula</span><span class="p">();</span>
<a id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="w">    </span><span class="n">p</span><span class="p">.</span><span class="na">vel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="n">f</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>La qual cosa aparentment no estaria mal i funcionaria de forma correcta, per√≤ que passaria si l'ususari/programador del nostre sistema de part√≠cules escrivira un codi com el seg√ºent:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span>
<span class="normal"><a href="#__codelineno-15-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="w">    </span><span class="n">Particula</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Particula</span><span class="p">();</span>
<a id="__codelineno-15-2" name="__codelineno-15-2"></a><span class="w">    </span><span class="n">p</span><span class="p">.</span><span class="na">vel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10000</span><span class="n">f</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>El codi continuaria siguen correcte i no donaria errades de compilaci√≥ per√≤ faria el nostre sistema de part√≠cules insostenible i molt inestable. Per aquest tipus de casos serveixen per una banda els modificadors de visibilitat i els get i sets dels atributs.</p>
<p>Mira el seg√ºent codi:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-16-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-16-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-16-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-16-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-16-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-16-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-16-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-16-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-16-10">10</a></span>
<span class="normal"><a href="#__codelineno-16-11">11</a></span>
<span class="normal"><a href="#__codelineno-16-12">12</a></span>
<span class="normal"><a href="#__codelineno-16-13">13</a></span>
<span class="normal"><a href="#__codelineno-16-14">14</a></span>
<span class="normal"><a href="#__codelineno-16-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Particula</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-16-2" name="__codelineno-16-2"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">vel</span><span class="p">;</span>
<a id="__codelineno-16-3" name="__codelineno-16-3"></a>
<a id="__codelineno-16-4" name="__codelineno-16-4"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Particula</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-16-5" name="__codelineno-16-5"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">vel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0f</span><span class="p">;</span>
<a id="__codelineno-16-6" name="__codelineno-16-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-16-7" name="__codelineno-16-7"></a>
<a id="__codelineno-16-8" name="__codelineno-16-8"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">setVelocitat</span><span class="w"> </span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-16-9" name="__codelineno-16-9"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">v</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">15</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-16-10" name="__codelineno-16-10"></a><span class="w">            </span><span class="n">println</span><span class="p">(</span><span class="s">"Error de configuraci√≥. Velocitat massa alta o negativa"</span><span class="p">);</span>
<a id="__codelineno-16-11" name="__codelineno-16-11"></a><span class="w">            </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-16-12" name="__codelineno-16-12"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-16-13" name="__codelineno-16-13"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">vel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v</span><span class="p">;</span>
<a id="__codelineno-16-14" name="__codelineno-16-14"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-16-15" name="__codelineno-16-15"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>D'aquesta forma ens assegurem que tot ususari de la nostra particula del sistema de particules no podr√† assignar mai una velocitat superior a 15 ni inferior a 0 a els elements del sistema.</p>
<p>Els sets per contra, serveixen per tal que nom√©s aquells valors dels atributs que el programador desitje siguen accessibles des de fora de la classe.</p>
<details class="question">
<summary>Activitat 610. Gets i sets</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="10:2"><input checked="checked" id="__tabbed_10_1" name="__tabbed_10" type="radio"/><input id="__tabbed_10_2" name="__tabbed_10" type="radio"/><div class="tabbed-labels"><label for="__tabbed_10_1">Problema</label><label for="__tabbed_10_2">Solucio</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Per aquells atributs susceptibles de ser modificats per l'usuari de la classe, fer els gets i sets pertinents. M√≠nim haur√†s d'afegir el m√®tode <strong>setColor</strong> que tindr√† par√†metres: r, g i b de tipus enters i amb rang de valors entre 0 i 255. El m√®tode setColor s'haur√† d'encarregar de traduir els tres n√∫meros enters a un n√∫mero hexadecimal amb format ARGB. Exemple: 0xFF33BBAA on les primeres dues F s√≥n les que indiquen opacitat total.</p>
</div>
<div class="tabbed-block">
<p><center>üì¶ <strong>Fitxer ZIP amb la soluci√≥ completa</strong></center></p>
<p><center><a class="md-button md-button--secondary" href="./assets/Tema6/act610.zip">üì• Descarrega la soluci√≥</a></center></p>
</div>
</div>
</div>
</details>
<h2 id="metodes-i-atributs-estatics">M√®todes i atributs est√†tics</h2>
<div class="admonition success">
<p class="admonition-title">Criteris d'avaluaci√≥ associats</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"/><span class="task-list-indicator"></span></label> RA4.8. S'han creat i utilitzat m√®todes est√†tics</li>
</ul>
</div>
<p>En el desenvolupament d‚Äôaplicacions orientades a objectes hi ha situacions en qu√® determinades dades o comportaments no pertanyen a cap objecte concret, sin√≥ que s√≥n comuns a tot el sistema. En aquests casos, Java permet definir atributs i m√®todes est√†tics, associats a la classe i no a les seues inst√†ncies. Veurem tres exemples d'√∫s d'atributs i m√®todes est√†tics: un comptador global, un m√®tode factory i una classe est√†tica.</p>
<h3 id="comptador-global-de-particules">Comptador global de part√≠cules</h3>
<p>Un √∫s molt com√∫ que se li sol donar als atributs est√†tics s√≥n els <strong>comptadors globals</strong> o les <strong>Factory o granges</strong>. Si per exemple al nostre sistema de part√≠cules vullgurem portar un comptador amb totes les part√≠cules que ha expulsat el volc√†, podriem usar un atribut est√†tic. Esta vegada s√≠ a la mateixa classe part√≠cula. I hauriem de modificar els constructors per tal que incrementen aquesta mena de variable est√†tica global cada vegada que es crea una part√≠cula.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-17-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-17-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-17-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-17-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-17-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-17-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-17-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-17-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-17-10">10</a></span>
<span class="normal"><a href="#__codelineno-17-11">11</a></span>
<span class="normal"><a href="#__codelineno-17-12">12</a></span>
<span class="normal"><a href="#__codelineno-17-13">13</a></span>
<span class="normal"><a href="#__codelineno-17-14">14</a></span>
<span class="normal"><a href="#__codelineno-17-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Particula</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-2" name="__codelineno-17-2"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">totalParticules</span><span class="p">;</span>
<a id="__codelineno-17-3" name="__codelineno-17-3"></a><span class="w">    </span>
<a id="__codelineno-17-4" name="__codelineno-17-4"></a><span class="w">    </span><span class="c1">// Constructor de la classe Particula (per defecte)</span>
<a id="__codelineno-17-5" name="__codelineno-17-5"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Particula</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-6" name="__codelineno-17-6"></a><span class="w">        </span><span class="n">totalParticules</span><span class="w"> </span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-17-7" name="__codelineno-17-7"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-17-8" name="__codelineno-17-8"></a>
<a id="__codelineno-17-9" name="__codelineno-17-9"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">getTotalParticules</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-10" name="__codelineno-17-10"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">totalParticules</span><span class="p">;</span>
<a id="__codelineno-17-11" name="__codelineno-17-11"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-17-12" name="__codelineno-17-12"></a><span class="p">}</span>
<a id="__codelineno-17-13" name="__codelineno-17-13"></a>
<a id="__codelineno-17-14" name="__codelineno-17-14"></a><span class="c1">// Al fitxer main del projecte</span>
<a id="__codelineno-17-15" name="__codelineno-17-15"></a><span class="n">println</span><span class="p">(</span><span class="n">Particula</span><span class="p">.</span><span class="na">getTotalParticules</span><span class="p">());</span>
</code></pre></div></td></tr></table></div>
<p>En el sistema de part√≠cules desenvolupat en aquest tema, les lleis de la f√≠sica que governen el moviment de les part√≠cules (com la gravetat o la fricci√≥ de l‚Äôaire) no s√≥n una propietat individual de cada part√≠cula, sin√≥ que s√≥n compartides per totes elles. Per aquest motiu, aquestes lleis s‚Äôhan encapsulat en una classe auxiliar anomenada Fisica2D, que fa √∫s exclusiu d‚Äôatributs i m√®todes est√†tics.</p>
<details class="question">
<summary>Activitat 611. Crea un atribut est√†tic al sistema de part√≠cules</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="11:3"><input checked="checked" id="__tabbed_11_1" name="__tabbed_11" type="radio"/><input id="__tabbed_11_2" name="__tabbed_11" type="radio"/><input id="__tabbed_11_3" name="__tabbed_11" type="radio"/><div class="tabbed-labels"><label for="__tabbed_11_1">Enunciat</label><label for="__tabbed_11_2">R√∫brica</label><label for="__tabbed_11_3">Solucio</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>En aquesta activitat es tracta de crear un comptador global est√†tic per a les gotes de pluja que es generen al nostre sistema de part√≠cules. Per√≤ abans necessitarem fer algunes cosetes. 
- Crea un constructor de particules al qual se li passar√† la regi√≥ en la que es vol que aparega la part√≠cula.</p>
<p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-1">1</a></span>
<span class="normal"><a href="#__codelineno-18-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a><span class="w">    </span><span class="c1">// Prototip</span>
<a id="__codelineno-18-2" name="__codelineno-18-2"></a><span class="w">    </span><span class="n">Particula</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ample</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">alt</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
- Crea un m√®tode aleatori que encapsule <strong>Math.random</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1">1</a></span>
<span class="normal"><a href="#__codelineno-19-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a><span class="w">    </span><span class="c1">// Prototip</span>
<a id="__codelineno-19-2" name="__codelineno-19-2"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="nf">aleatori</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">min</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">max</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<table>
<thead>
<tr>
<th>√çtem d‚Äôavaluaci√≥</th>
<th>4 (Excel¬∑lent)</th>
<th>3 (Adequat)</th>
<th>2 (B√†sic)</th>
<th>1 (Insuficient)</th>
<th>0 (No assolit)</th>
<th>Pes</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Creaci√≥ de l‚Äôatribut est√†tic comptador</strong></td>
<td>L‚Äôatribut est√†tic est√† ben definit, justificat i correctament declarat.</td>
<td>Correctament declarat per√≤ amb poca justificaci√≥.</td>
<td>Declarat amb algun error menor.</td>
<td>Mal declarat o mal utilitzat.</td>
<td>No existeix.</td>
<td><strong>20%</strong></td>
</tr>
<tr>
<td><strong>Actualitzaci√≥ correcta del comptador</strong></td>
<td>El comptador s‚Äôincrementa autom√†ticament en crear cada part√≠cula.</td>
<td>S‚Äôincrementa per√≤ amb alguna limitaci√≥.</td>
<td>Increment parcial o manual.</td>
<td>Increment incorrecte.</td>
<td>No s‚Äôincrementa.</td>
<td><strong>15%</strong></td>
</tr>
<tr>
<td><strong>Constructor amb regi√≥ (<code>x, y, ample, alt</code>)</strong></td>
<td>Constructor ben definit que inicialitza correctament la posici√≥ dins la regi√≥.</td>
<td>Funciona correctament amb algun detall menor.</td>
<td>Inicialitzaci√≥ parcial.</td>
<td>Errors conceptuals clars.</td>
<td>No implementat.</td>
<td><strong>20%</strong></td>
</tr>
<tr>
<td><strong>M√®tode <code>aleatori(int min, int max)</code></strong></td>
<td>Encapsula correctament <code>Math.random</code> i retorna valors coherents.</td>
<td>Funciona correctament per√≤ sense encapsulaci√≥ clara.</td>
<td>Funciona amb errors puntuals.</td>
<td>Errors freq√ºents.</td>
<td>No implementat.</td>
<td><strong>20%</strong></td>
</tr>
<tr>
<td><strong>√ös del m√®tode aleatori dins del constructor</strong></td>
<td>El constructor utilitza el m√®tode aleatori de forma clara i reutilitzable.</td>
<td>√ös correcte per√≤ poc net.</td>
<td>√ös parcial.</td>
<td>√ös incorrecte.</td>
<td>No s‚Äôutilitza.</td>
<td><strong>15%</strong></td>
</tr>
<tr>
<td><strong>Documentaci√≥ i comentaris</strong></td>
<td>Atribut est√†tic, constructor i m√®tode estan ben documentats.</td>
<td>Documentaci√≥ correcta per√≤ millorable.</td>
<td>Documentaci√≥ m√≠nima.</td>
<td>Documentaci√≥ pobra.</td>
<td>Sense documentaci√≥.</td>
<td><strong>10%</strong></td>
</tr>
</tbody>
</table>
</div>
<div class="tabbed-block">
<p><center>üì¶ <strong>Fitxer ZIP amb la soluci√≥ completa</strong></center></p>
<p><center><a class="md-button md-button--secondary" href="./assets/Tema6/act611.zip">üì• Descarrega la soluci√≥</a></center></p>
</div>
</div>
</div>
</details>
<h3 id="metodes-estatics">M√®todes est√†tics</h3>
<p>De la mateixa manera que es poden crear atributs est√†tics tamb√© hi podem crear m√®todes est√†tics. Per il¬∑lustrar-ho  veurem un tipus de m√®tode anomenat <strong>Factory Method</strong> o tamb√© <strong>Factory Pattern</strong> que es un patr√≥ de disseny creacional que: encapsula la creaci√≥ d'objectes, evita usar new directament des de fora i permet centralitzar la l√≤gica de construcci√≥.</p>
<p>En el nostre cas del sistema de part√≠cules, aquest patr√≥ s‚Äôimplementa mitjan√ßant m√®todes est√†tics dins de la pr√≤pia classe Particula, que actuen com una <strong>f√†brica de part√≠cules.</strong></p>
<p><strong>Per qu√® utilitzar una f√†brica?</strong>
Fins ara, la creaci√≥ d‚Äôuna part√≠cula podria fer-se aix√≠:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-20-1">1</a></span>
<span class="normal"><a href="#__codelineno-20-2">2</a></span>
<span class="normal"><a href="#__codelineno-20-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a><span class="n">Particula</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Particula</span><span class="p">(</span><span class="n">posicio</span><span class="p">);</span>
<a id="__codelineno-20-2" name="__codelineno-20-2"></a><span class="n">p</span><span class="p">.</span><span class="na">setColorRGB</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-20-3" name="__codelineno-20-3"></a><span class="n">p</span><span class="p">.</span><span class="na">setVelocitat</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>Aquest enfocament presenta alguns inconvenients: la l√≤gica de construcci√≥ queda repartida pel codi, qualsevol canvi obliga a modificar molts llocs, i el codi principal es torna menys llegible.</p>
<p>Amb una f√†brica, tota aquesta l√≤gica queda centralitzada en un √∫nic lloc.</p>
<p><strong>Factory method a la classe Part√≠cula</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1">1</a></span>
<span class="normal"><a href="#__codelineno-21-2">2</a></span>
<span class="normal"><a href="#__codelineno-21-3">3</a></span>
<span class="normal"><a href="#__codelineno-21-4">4</a></span>
<span class="normal"><a href="#__codelineno-21-5">5</a></span>
<span class="normal"><a href="#__codelineno-21-6">6</a></span>
<span class="normal"><a href="#__codelineno-21-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="w"> </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Particula</span><span class="w"> </span><span class="nf">crearParticula</span><span class="w"> </span><span class="p">(</span><span class="n">PVector</span><span class="w"> </span><span class="n">origen</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-21-2" name="__codelineno-21-2"></a><span class="w">    </span><span class="n">Particula</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Particula</span><span class="p">(</span><span class="n">origen</span><span class="p">.</span><span class="na">copy</span><span class="p">());</span>
<a id="__codelineno-21-3" name="__codelineno-21-3"></a><span class="w">    </span><span class="n">p</span><span class="p">.</span><span class="na">setColorRGB</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-21-4" name="__codelineno-21-4"></a><span class="w">    </span><span class="n">p</span><span class="p">.</span><span class="na">vel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PVector</span><span class="p">.</span><span class="na">random2D</span><span class="p">();</span>
<a id="__codelineno-21-5" name="__codelineno-21-5"></a><span class="w">    </span><span class="n">p</span><span class="p">.</span><span class="na">vel</span><span class="p">.</span><span class="na">mult</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="na">Random</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">));</span>
<a id="__codelineno-21-6" name="__codelineno-21-6"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">p</span><span class="p">;</span>
<a id="__codelineno-21-7" name="__codelineno-21-7"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>Des del programa principal, ja no √©s necessari usar new, sin√≥ que simplement es demana a la f√†brica que cree la part√≠cula:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a><span class="n">Particula</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Particula</span><span class="p">.</span><span class="na">crearParticula</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">origen</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<details class="question">
<summary>Activitat 612. Crear una f√†brica al teu sistema de part√≠cules</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="12:3"><input checked="checked" id="__tabbed_12_1" name="__tabbed_12" type="radio"/><input id="__tabbed_12_2" name="__tabbed_12" type="radio"/><input id="__tabbed_12_3" name="__tabbed_12" type="radio"/><div class="tabbed-labels"><label for="__tabbed_12_1">Problema</label><label for="__tabbed_12_2">R√∫brica</label><label for="__tabbed_12_3">Soluci√≥</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>En el projecte del tema 6 hem desenvolupat un sistema de part√≠cules que simula un volc√†.</p>
<p>A partir d‚Äôaquest exemple, cada alumne haur√† de desenvolupar un sistema de part√≠cules propi que simule la pluja, reutilitzant la classe Particula i els coneixements sobre m√®todes i atributs est√†tics.</p>
<p>Per a facilitar la creaci√≥ de part√≠cules i centralitzar la seua configuraci√≥, utilitzarem el patr√≥ de disseny Factory Method.</p>
<p>Utlitza aquest m√®tode des de l'aplicaci√≥ principal.</p>
</div>
<div class="tabbed-block">
<table>
<thead>
<tr>
<th>√çtem d‚Äôavaluaci√≥</th>
<th>4 (Excel¬∑lent)</th>
<th>3 (Adequat)</th>
<th>2 (B√†sic)</th>
<th>1 (Insuficient)</th>
<th>0 (No assolit)</th>
<th>Pes</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Definici√≥ del m√®tode est√†tic f√†brica</strong></td>
<td>M√®tode est√†tic ben definit, amb nom clar i responsabilitat correcta.</td>
<td>M√®tode correcte per√≤ amb nom o estructura millorable.</td>
<td>M√®tode funcional per√≤ poc clar.</td>
<td>Definici√≥ incorrecta.</td>
<td>No existeix.</td>
<td><strong>20%</strong></td>
</tr>
<tr>
<td><strong>Encapsulaci√≥ de la creaci√≥ d‚Äôobjectes</strong></td>
<td>La creaci√≥ de part√≠cules est√† totalment centralitzada a la f√†brica.</td>
<td>Centralitzaci√≥ majorit√†ria.</td>
<td>Centralitzaci√≥ parcial.</td>
<td>Encara s‚Äôusa <code>new</code> fora de la f√†brica.</td>
<td>No hi ha encapsulaci√≥.</td>
<td><strong>20%</strong></td>
</tr>
<tr>
<td><strong>Configuraci√≥ coherent de les part√≠cules</strong></td>
<td>La f√†brica inicialitza posici√≥, velocitat, mida i color de forma coherent amb la pluja.</td>
<td>Configuraci√≥ correcta amb detalls millorables.</td>
<td>Configuraci√≥ m√≠nima.</td>
<td>Configuraci√≥ err√≤nia.</td>
<td>No configura.</td>
<td><strong>20%</strong></td>
</tr>
<tr>
<td><strong>√ös correcte del m√®tode des del main</strong></td>
<td>El <code>main</code> utilitza exclusivament la f√†brica per crear part√≠cules.</td>
<td>√ös correcte per√≤ no exclusiu.</td>
<td>√ös parcial.</td>
<td>√ös incorrecte.</td>
<td>No s‚Äôutilitza.</td>
<td><strong>15%</strong></td>
</tr>
<tr>
<td><strong>Reutilitzaci√≥ de codi existent</strong></td>
<td>Reutilitza constructors, m√®todes i utilitats (aleatori, Fisica2D‚Ä¶).</td>
<td>Reutilitza part del codi.</td>
<td>Reutilitzaci√≥ m√≠nima.</td>
<td>Duplica codi innecess√†riament.</td>
<td>No reutilitza.</td>
<td><strong>15%</strong></td>
</tr>
<tr>
<td><strong>Documentaci√≥ i comentaris</strong></td>
<td>M√®tode f√†brica i decisions ben documentades.</td>
<td>Documentaci√≥ correcta per√≤ millorable.</td>
<td>Documentaci√≥ m√≠nima.</td>
<td>Documentaci√≥ pobra.</td>
<td>Sense documentaci√≥.</td>
<td><strong>10%</strong></td>
</tr>
</tbody>
</table>
</div>
<div class="tabbed-block">
<p><center>üì¶ <strong>Fitxer ZIP amb la soluci√≥ completa</strong></center></p>
<p><center><a class="md-button md-button--secondary" href="./assets/Tema6/act612.zip">üì• Descarrega la soluci√≥</a></center></p>
</div>
</div>
</div>
</details>
<h3 id="classe-fisica2d">Classe Fisica2D</h3>
<p>La classe Fisica2D √©s una <strong>classe est√†tica</strong> representa un conjunt de lleis f√≠siques globals aplicables a qualsevol part√≠cula del sistema. Com que no t√© sentit crear objectes d‚Äôaquesta classe, tots els seus membres s√≥n est√†tics.</p>
<p>Entre els elements definits en aquesta classe trobem:</p>
<ul>
<li><strong>Atributs</strong> est√†tics que representen constants f√≠siques globals, com ara la gravetat o el coeficient de fricci√≥ de l‚Äôaire.</li>
<li><strong>M√®todes</strong> est√†tics que calculen forces f√≠siques a partir de l‚Äôestat d‚Äôuna part√≠cula, com la for√ßa de fricci√≥ en funci√≥ de la seua velocitat.</li>
</ul>
<p>Aquests m√®todes poden ser utilitzats directament des d‚Äôaltres classes sense necessitat de crear cap objecte Fisica2D.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-23-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-23-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-23-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-23-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-23-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-23-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-23-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-23-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-23-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-23-10">10</a></span>
<span class="normal"><a href="#__codelineno-23-11">11</a></span>
<span class="normal"><a href="#__codelineno-23-12">12</a></span>
<span class="normal"><a href="#__codelineno-23-13">13</a></span>
<span class="normal"><a href="#__codelineno-23-14">14</a></span>
<span class="normal"><a href="#__codelineno-23-15">15</a></span>
<span class="normal"><a href="#__codelineno-23-16">16</a></span>
<span class="normal"><a href="#__codelineno-23-17">17</a></span>
<span class="normal"><a href="#__codelineno-23-18">18</a></span>
<span class="normal"><a href="#__codelineno-23-19">19</a></span>
<span class="normal"><a href="#__codelineno-23-20">20</a></span>
<span class="normal"><a href="#__codelineno-23-21">21</a></span>
<span class="normal"><a href="#__codelineno-23-22">22</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">processing.core.PVector</span><span class="p">;</span>
<a id="__codelineno-23-2" name="__codelineno-23-2"></a>
<a id="__codelineno-23-3" name="__codelineno-23-3"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Fisica2D</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-4" name="__codelineno-23-4"></a>
<a id="__codelineno-23-5" name="__codelineno-23-5"></a><span class="w">  </span><span class="c1">// Constants f√≠siques globals</span>
<a id="__codelineno-23-6" name="__codelineno-23-6"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">GRAVETAT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.3f</span><span class="p">;</span>
<a id="__codelineno-23-7" name="__codelineno-23-7"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">FRICCIO_AIRE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.02f</span><span class="p">;</span>
<a id="__codelineno-23-8" name="__codelineno-23-8"></a>
<a id="__codelineno-23-9" name="__codelineno-23-9"></a><span class="w">  </span><span class="c1">// Aplica la gravetat</span>
<a id="__codelineno-23-10" name="__codelineno-23-10"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">PVector</span><span class="w"> </span><span class="nf">gravetat</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-11" name="__codelineno-23-11"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PVector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">GRAVETAT</span><span class="p">);</span>
<a id="__codelineno-23-12" name="__codelineno-23-12"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-23-13" name="__codelineno-23-13"></a>
<a id="__codelineno-23-14" name="__codelineno-23-14"></a><span class="w">  </span><span class="c1">// Calcula for√ßa de fricci√≥</span>
<a id="__codelineno-23-15" name="__codelineno-23-15"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">PVector</span><span class="w"> </span><span class="nf">friccio</span><span class="p">(</span><span class="n">PVector</span><span class="w"> </span><span class="n">velocitat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-16" name="__codelineno-23-16"></a><span class="w">    </span><span class="n">PVector</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">velocitat</span><span class="p">.</span><span class="na">copy</span><span class="p">();</span>
<a id="__codelineno-23-17" name="__codelineno-23-17"></a><span class="w">    </span><span class="n">f</span><span class="p">.</span><span class="na">mult</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-23-18" name="__codelineno-23-18"></a><span class="w">    </span><span class="n">f</span><span class="p">.</span><span class="na">normalize</span><span class="p">();</span>
<a id="__codelineno-23-19" name="__codelineno-23-19"></a><span class="w">    </span><span class="n">f</span><span class="p">.</span><span class="na">mult</span><span class="p">(</span><span class="n">FRICCIO_AIRE</span><span class="p">);</span>
<a id="__codelineno-23-20" name="__codelineno-23-20"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">f</span><span class="p">;</span>
<a id="__codelineno-23-21" name="__codelineno-23-21"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-23-22" name="__codelineno-23-22"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<div class="admonition warning">
<p class="admonition-title">Classes est√†tiques a Processing IDE</p>
<p>Per tal que es puguen utilitzar classes amb atributs i m√®todes est√†tics a Processing IDE √©s necessari que les classes est√†tiques tinguen extensi√≥ .java i no .pde. I el problema que t√© aquesta opci√≥ √©s que els arxius (classes) amb extensi√≥ .java no poden fer √∫s de les funcions de l'API de Processing IDE.</p>
</div>
<h4 id="us-de-la-classe-estatica">√ös de la classe est√†tica</h4>
<p>La classe Particula utilitza els m√®todes est√†tics de Fisica2D per aplicar les forces f√≠siques durant l‚Äôactualitzaci√≥ del seu moviment. D‚Äôaquesta manera, la l√≤gica de la f√≠sica queda desacoblada del comportament individual de la part√≠cula, millorant la claredat del codi i afavorint la reutilitzaci√≥.</p>
<p>Aquest enfocament permet:</p>
<ul>
<li><strong>Diferenciar</strong> clarament entre estat individual (posici√≥, velocitat) i comportament global (lleis f√≠siques).</li>
<li><strong>Utilitzar</strong> correctament el concepte de static en Java.</li>
<li><strong>Centralitzar</strong> les constants i c√†lculs f√≠sics en una √∫nica classe.</li>
</ul>
<p>Amb aquesta nova classe Fisica2D, la classe part√≠cula tamb√© es veuria afectada al seu m√®tode <strong>actualitzar</strong> com es pot veure a continuaci√≥.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-24-1">1</a></span>
<span class="normal"><a href="#__codelineno-24-2">2</a></span>
<span class="normal"><a href="#__codelineno-24-3">3</a></span>
<span class="normal"><a href="#__codelineno-24-4">4</a></span>
<span class="normal"><a href="#__codelineno-24-5">5</a></span>
<span class="normal"><a href="#__codelineno-24-6">6</a></span>
<span class="normal"><a href="#__codelineno-24-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1"></a><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">actualitzar</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-24-2" name="__codelineno-24-2"></a><span class="w">    </span><span class="n">PVector</span><span class="w"> </span><span class="n">acceleracio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PVector</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-24-3" name="__codelineno-24-3"></a><span class="w">    </span><span class="n">acceleracio</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">Fisica2D</span><span class="p">.</span><span class="na">gravetat</span><span class="p">());</span>
<a id="__codelineno-24-4" name="__codelineno-24-4"></a><span class="w">    </span><span class="n">acceleracio</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">Fisica2D</span><span class="p">.</span><span class="na">friccio</span><span class="p">(</span><span class="n">vel</span><span class="p">));</span>
<a id="__codelineno-24-5" name="__codelineno-24-5"></a><span class="w">    </span><span class="n">vel</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">acceleracio</span><span class="p">);</span>
<a id="__codelineno-24-6" name="__codelineno-24-6"></a><span class="w">    </span><span class="n">posicio</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">vel</span><span class="p">);</span>
<a id="__codelineno-24-7" name="__codelineno-24-7"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>Com es pot obaservar si compareu el m√®tode actualitzar modificat amb el m√®tode anterior, ara √©s molt m√©s simple i f√†cil de llegir a primera vista. En aquest cas la classe est√†tica ens serveix per ocultar <strong>(Principi d'ocultaci√≥ - POO)</strong> el funcionament intern de diversos c√†lculs f√≠sics que no necess√†riament tenen a veure amb la classe Part√≠cula. √âs a dir, a l'usuari de les classes els importa com fan els m√®todes sino qu√® fan els m√®todes.</p>
<details class="question">
<summary>Activitat 613. Adapta la classe Fisica2D</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="13:3"><input checked="checked" id="__tabbed_13_1" name="__tabbed_13" type="radio"/><input id="__tabbed_13_2" name="__tabbed_13" type="radio"/><input id="__tabbed_13_3" name="__tabbed_13" type="radio"/><div class="tabbed-labels"><label for="__tabbed_13_1">Problema</label><label for="__tabbed_13_2">R√∫brica</label><label for="__tabbed_13_3">Soluci√≥</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Per tal d‚Äôadaptar el sistema de part√≠cules al fenomen de la pluja, caldr√† modificar o ampliar la classe Fisica2D, fent √∫s d‚Äôatributs i m√®todes est√†tics.</p>
<ol>
<li>Analitza el funcionament de la classe Fisica2D utilitzada en el sistema de part√≠cules del volc√†.</li>
<li>Modifica o amplia aquesta classe per tal que puga ser utilitzada tamb√© en un sistema de part√≠cules que simule la pluja.</li>
<li>Afegeix nous atributs i/o m√®todes est√†tics que permeten representar adequadament el comportament f√≠sic de la pluja.</li>
<li>Utilitza els nous m√®todes est√†tics de Fisica2D dins de la teua classe ParticulaPluja (o equivalent).</li>
</ol>
<p><strong>Requsits m√≠nmis</strong>
    - Un atribut est√†tic que represente la gravetat adequada per a la pluja
    - Un m√®tode est√†tic que retorne la for√ßa de la gravetat aplicada a una part√≠cula de pluja.
    - Un m√®tode est√†tic que calcule la fricci√≥ de l‚Äôaire adaptada a la pluja (per exemple, m√©s suau que en el volc√†).</p>
</div>
<div class="tabbed-block">
<table>
<thead>
<tr>
<th>√çtem d‚Äôavaluaci√≥</th>
<th>4 (Excel¬∑lent)</th>
<th>3 (Adequat)</th>
<th>2 (B√†sic)</th>
<th>1 (Insuficient)</th>
<th>0 (No assolit)</th>
<th>Pes</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>An√†lisi i comprensi√≥ de la classe Fisica2D original</strong></td>
<td>Demostra entendre clarament el funcionament de la classe i ho reflecteix en les modificacions.</td>
<td>Comprensi√≥ correcta amb algun detall millorable.</td>
<td>Comprensi√≥ parcial.</td>
<td>Comprensi√≥ confusa.</td>
<td>No es t√© en compte l‚Äôestructura original.</td>
<td><strong>10%</strong></td>
</tr>
<tr>
<td><strong>Atribut est√†tic de gravetat per a la pluja</strong></td>
<td>Atribut ben definit, justificat i adequat al comportament de la pluja.</td>
<td>Atribut correcte per√≤ poc justificat.</td>
<td>Atribut funcional per√≤ poc clar.</td>
<td>Atribut incorrecte.</td>
<td>No existeix.</td>
<td><strong>20%</strong></td>
</tr>
<tr>
<td><strong>M√®tode est√†tic de for√ßa de la gravetat</strong></td>
<td>M√®tode correcte, reutilitzable i coherent amb l‚Äôatribut de gravetat.</td>
<td>M√®tode correcte amb detalls millorables.</td>
<td>M√®tode funcional per√≤ limitat.</td>
<td>Implementaci√≥ err√≤nia.</td>
<td>No implementat.</td>
<td><strong>20%</strong></td>
</tr>
<tr>
<td><strong>M√®tode est√†tic de fricci√≥ adaptada a la pluja</strong></td>
<td>Fricci√≥ ben adaptada (m√©s suau) i ben implementada.</td>
<td>Fricci√≥ funcional per√≤ poc ajustada.</td>
<td>Implementaci√≥ m√≠nima.</td>
<td>Implementaci√≥ incorrecta.</td>
<td>No existeix.</td>
<td><strong>20%</strong></td>
</tr>
<tr>
<td><strong>√ös dels m√®todes est√†tics a la classe ParticulaPluja</strong></td>
<td>√ös correcte, clar i coherent dins del m√®tode <code>actualitzar</code>.</td>
<td>√ös correcte amb algun detall millorable.</td>
<td>√ös parcial.</td>
<td>√ös incorrecte.</td>
<td>No s‚Äôutilitzen.</td>
<td><strong>20%</strong></td>
</tr>
<tr>
<td><strong>Documentaci√≥ i comentaris</strong></td>
<td>Atributs i m√®todes est√†tics ben documentats i explicats.</td>
<td>Documentaci√≥ correcta per√≤ millorable.</td>
<td>Documentaci√≥ m√≠nima.</td>
<td>Documentaci√≥ pobra.</td>
<td>Sense documentaci√≥.</td>
<td><strong>10%</strong></td>
</tr>
</tbody>
</table>
</div>
<div class="tabbed-block">
<p><center>üì¶ <strong>Fitxer ZIP amb la soluci√≥ completa</strong></center></p>
<p><center><a class="md-button md-button--secondary" href="./assets/Tema6/act613.zip">üì• Descarrega la soluci√≥</a></center></p>
</div>
</div>
</div>
</details>
<h2 id="herencia-de-classes">Her√®ncia de classes</h2>
<div class="admonition success">
<p class="admonition-title">Criteris d'avaluaci√≥ associats</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"/><span class="task-list-indicator"></span></label> RA4.¬°7. S'han definit i utilitzat classes heretades</li>
</ul>
</div>
<p><strong>Qu√® √©s una classe heretada?</strong>
En programaci√≥ orientada a objectes, una classe heretada √©s una classe que reutilitza el codi d'una altra classe, anomenada classe base o classe pare.</p>
<p>Una classe heretada √©s una classe que reutilitza el codi d'una altra. En alguns casos, dues classes comparteixen:
- Els mateixos atributs
- Els mateixos m√®todes</p>
<p>En lloc de repetir codi, podem crear una classe base i una classe heretada que reutilitze aquest comportament</p>
<p>Des d'un punt de vista general, una classe B que herete d'una classe A en java es definiria usant la paraula reservada de java <strong>extends</strong> de la seg√úeng manera:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-25-1">1</a></span>
<span class="normal"><a href="#__codelineno-25-2">2</a></span>
<span class="normal"><a href="#__codelineno-25-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">B</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-25-2" name="__codelineno-25-2"></a><span class="w">    </span><span class="c1">// Codi de la classe</span>
<a id="__codelineno-25-3" name="__codelineno-25-3"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="herencia-al-sistema-de-particules">Her√®ncia al sistema de part√≠cules</h4>
<p>En el nostre projecte, totes les part√≠cules:
- Tenen posici√≥            (atribut)
- Es mouen                 (atribut)
- Tenen velocitat          (atribut)
- Es mouen                 (comportament)
- Es dibuixen per pantalla (comportament)</p>
<p>Per aix√≤ hem creat una classe general anomenada <strong>Part√≠cula</strong>, que cont√© els atributs i m√®todes (comportament) comuns a totes les part√≠cules.  A partir d'aquesta classe, podem crear part√≠cules m√©s espec√≠fiques, com ara part√≠cules de lava, gotes de pluja, paperets de confeti, etc.</p>
<p>Com que el nostre projecte de sistema de part√≠cules intenta simular les part√≠cules de lava expulsades per un volc√†, a partir de la classe Part√≠cula que ja tenim creada i que contenir√† els atributs i comportaments comuns a totes les particules, crearem una particula de lava que herete de la part√≠cula general</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-26-1">1</a></span>
<span class="normal"><a href="#__codelineno-26-2">2</a></span>
<span class="normal"><a href="#__codelineno-26-3">3</a></span>
<span class="normal"><a href="#__codelineno-26-4">4</a></span>
<span class="normal"><a href="#__codelineno-26-5">5</a></span>
<span class="normal"><a href="#__codelineno-26-6">6</a></span>
<span class="normal"><a href="#__codelineno-26-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Lava</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Particula</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-26-2" name="__codelineno-26-2"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Lava</span><span class="w"> </span><span class="p">(</span><span class="n">PVector</span><span class="w"> </span><span class="n">posInicial</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-26-3" name="__codelineno-26-3"></a><span class="w">        </span><span class="n">posicio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">posInicial</span><span class="p">.</span><span class="na">copy</span><span class="p">();</span>
<a id="__codelineno-26-4" name="__codelineno-26-4"></a><span class="w">        </span><span class="n">velocitat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PVector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">);</span>
<a id="__codelineno-26-5" name="__codelineno-26-5"></a><span class="w">        </span><span class="n">pinta</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0xFFFF5500</span><span class="p">;</span>
<a id="__codelineno-26-6" name="__codelineno-26-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-26-7" name="__codelineno-26-7"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>Com pots observar la classe Lava no redefineix cpa m√®tode, reutilitza actualitzar() i mostrar() i nom√©s inicialitza els seus valors. Per√≤ com usariem ara la nova classe creada al nostre sistema de part√≠cules? </p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-27-1">1</a></span>
<span class="normal"><a href="#__codelineno-27-2">2</a></span>
<span class="normal"><a href="#__codelineno-27-3">3</a></span>
<span class="normal"><a href="#__codelineno-27-4">4</a></span>
<span class="normal"><a href="#__codelineno-27-5">5</a></span>
<span class="normal"><a href="#__codelineno-27-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1"></a><span class="c1">// Des del main del nostre projecte</span>
<a id="__codelineno-27-2" name="__codelineno-27-2"></a><span class="n">Particula</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Lava</span><span class="w"> </span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PVector</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">));</span>
<a id="__codelineno-27-3" name="__codelineno-27-3"></a>
<a id="__codelineno-27-4" name="__codelineno-27-4"></a><span class="c1">// Despr√©s podem fer</span>
<a id="__codelineno-27-5" name="__codelineno-27-5"></a><span class="n">p</span><span class="p">.</span><span class="na">actualitzar</span><span class="p">();</span>
<a id="__codelineno-27-6" name="__codelineno-27-6"></a><span class="n">p</span><span class="p">.</span><span class="na">mostrar</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>Tot i que la classe <strong>Lava</strong> √©s una classe diferent, es pot utlitzar com una Particula dins del sistema, aix√≤ √©s possible perqu√®:
- Una inst√†ncia de Lava √©s tamb√© una inst√†ncia de Part√≠cula
- Pot utilitzar tots els m√®todes definits a la classe base.</p>
<p>En aquest tema <strong>no aprofundirem en per qu√® aix√≤ funciona</strong>, sino que simplement ho utilitzarem de forma pr√†ctica.</p>
<p><strong>Idees claus a recordar</strong>
- Una classe heretada reutilitza codi d‚Äôuna altra classe.
- La classe base cont√© el comportament com√∫.
- La classe heretada pot inicialitzar els seus propis valors.
- No √©s necessari redefinir m√®todes per poder usar her√®ncia.
- L‚Äôobjectiu principal en aquest punt √©s reutilitzar codi, no modificar-lo.</p>
<details class="question">
<summary>Activitat 614. Her√®ncia de part√≠cules</summary>
<p>A partir de la classe Particula, crea una classe heretada <strong>Gota</strong> que represente una gota de pluja. La nova classe haur√† de:
- Heretar de part√≠cula.
- Inicialitzar la posici√≥ i la velocitat inicials cap avall (les gotes cauen).
- Assignar un color adequat per a una gota de pluja.
- Utilitzar els m√®todes heretats sense modificar-los.</p>
<p>No est√† perm√©s:
- Sobreescriure m√®todes.
- Utilitzar super
- Crear jerarquies complexes.</p>
</details>
<h2 id="interficies">Interf√≠cies</h2>
<div class="admonition success">
<p class="admonition-title">Criteris d'avaluaci√≥ associats</p>
</div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"/><span class="task-list-indicator"></span></label> RA4.9. S'han definit i utilitzat interf√≠cies</li>
</ul>
<h3 id="que-es-una-interficie">Qu√® √©s una interf√≠cie?</h3>
<p>Una <strong>interf√≠cie</strong> √©s una estructura que defineix <strong>qu√® pot fer una classe</strong>, per√≤ <strong>no com ho fa</strong>. </p>
<p>Una interf√≠cie:
- No cont√© atributs
- No implementa m√®todes
- Nomes defineix m√®todes que una classe haur√† d'implementar</p>
<div class="admonition info">
<p class="admonition-title">√âs una manera de dir</p>
<p>Qualsevol classe que implemente aquesta interf√≠cie promet que tindr√† aquestos m√®todes.</p>
</div>
<h3 id="per-a-que-serveixen-les-interficies">Per a qu√® serveixen les interf√≠cies</h3>
<p>Les interf√≠cies permeten:
- Definir comportaments comuns.
- Agrupar classes diferents sota una mateixa funcionalitat.
- Treballar amb ojbectes sense coneixer la seua classe concreta.</p>
<p>En aquest tema, les utilitzarem <strong>com a contracte de comportament</strong>, no com a eina avan√ßada de disseny.</p>
<h3 id="interficies-en-el-sistema-de-particules">Interf√≠cies en el sistema de part√≠cules</h3>
<p>Al nostres sistema de part√≠cules, totes les part√≠cules:
- S'actualitzen a cada frame
- Es dibuixen per pantalla</p>
<p>Aix√≤ √©s un comportament com√∫, independentment de si son:
- Part√≠cules de lava
- Gotes de pluja
- Paperets de confeti
- Qualsevol altre tipus de part√≠cula</p>
<p>Podem representar aquest comportament mitjan√ßant una interf√≠cie.</p>
<h3 id="defniicio-de-la-interficie-actualitzable">Defniici√≥ de la interf√≠cie Actualitzable</h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-28-1">1</a></span>
<span class="normal"><a href="#__codelineno-28-2">2</a></span>
<span class="normal"><a href="#__codelineno-28-3">3</a></span>
<span class="normal"><a href="#__codelineno-28-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">Actualitzable</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-28-2" name="__codelineno-28-2"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">actualitzar</span><span class="p">();</span>
<a id="__codelineno-28-3" name="__codelineno-28-3"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">mostrar</span><span class="p">(</span><span class="n">PApplet</span><span class="w"> </span><span class="n">app</span><span class="p">);</span>
<a id="__codelineno-28-4" name="__codelineno-28-4"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>Aquesta intef√≠cie indica que qualsevol classe que la implemente:
- Ha de tindre un m√®tode actualitzar()
- Ha de tindre un m√®tode mostrar(PApplet app)</p>
<p>No diu com s'ha d'implementar.</p>
<h3 id="implementacio-de-la-interficie-de-la-classe-particula">Implementaci√≥ de la interf√≠cie de la classe Part√≠cula</h3>
<p>La classe Part√≠cula ja disposa d'aquestos m√®todes, per tant po implementar la interf√≠cie:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-29-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-29-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-29-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-29-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-29-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-29-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-29-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-29-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-29-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-29-10">10</a></span>
<span class="normal"><a href="#__codelineno-29-11">11</a></span>
<span class="normal"><a href="#__codelineno-29-12">12</a></span>
<span class="normal"><a href="#__codelineno-29-13">13</a></span>
<span class="normal"><a href="#__codelineno-29-14">14</a></span>
<span class="normal"><a href="#__codelineno-29-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Particula</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Actualitzable</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-2" name="__codelineno-29-2"></a>
<a id="__codelineno-29-3" name="__codelineno-29-3"></a><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="n">PVector</span><span class="w"> </span><span class="n">posicio</span><span class="p">;</span>
<a id="__codelineno-29-4" name="__codelineno-29-4"></a><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="n">PVector</span><span class="w"> </span><span class="n">velocitat</span><span class="p">;</span>
<a id="__codelineno-29-5" name="__codelineno-29-5"></a><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">pinta</span><span class="p">;</span>
<a id="__codelineno-29-6" name="__codelineno-29-6"></a>
<a id="__codelineno-29-7" name="__codelineno-29-7"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">actualitzar</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-8" name="__codelineno-29-8"></a><span class="w">        </span><span class="n">posicio</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">velocitat</span><span class="p">);</span>
<a id="__codelineno-29-9" name="__codelineno-29-9"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-29-10" name="__codelineno-29-10"></a>
<a id="__codelineno-29-11" name="__codelineno-29-11"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">mostrar</span><span class="p">(</span><span class="n">PApplet</span><span class="w"> </span><span class="n">app</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-12" name="__codelineno-29-12"></a><span class="w">        </span><span class="n">app</span><span class="p">.</span><span class="na">fill</span><span class="p">(</span><span class="n">pinta</span><span class="p">);</span>
<a id="__codelineno-29-13" name="__codelineno-29-13"></a><span class="w">        </span><span class="n">app</span><span class="p">.</span><span class="na">ellipse</span><span class="p">(</span><span class="n">posicio</span><span class="p">.</span><span class="na">x</span><span class="p">,</span><span class="w"> </span><span class="n">posicio</span><span class="p">.</span><span class="na">y</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<a id="__codelineno-29-14" name="__codelineno-29-14"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-29-15" name="__codelineno-29-15"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>Observa que:
- No cal afegir m√®todes nous
- Nom√©s indicar que la classe <strong>implementa la interf√≠cie</strong></p>
<h3 id="per-que-es-util-aco">Per qu√® √©s √∫til a√ß√≤?</h3>
<p>Gr√†cies a la interf√≠cie, ara podem treballar amb qualsevol objecte que siga Actualitzable, siga o no una Particula.</p>
<!--Per exemple:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-30-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1"></a><span class="n">Canviar</span><span class="w"> </span><span class="n">l</span><span class="err">&#39;</span><span class="n">exemple</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">tal</span><span class="w"> </span><span class="n">que</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">arraylists</span>
</code></pre></div></td></tr></table></div>
-->
<div class="admonition info">
<p class="admonition-title">Idees clau a recordar</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"/><span class="task-list-indicator"></span></label> Una interf√≠cie defineix qu√® fa una classe, no com ho fa.</li>
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"/><span class="task-list-indicator"></span></label> Una classe pot implementar una interf√≠cie encara que herete d‚Äôuna altra.</li>
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"/><span class="task-list-indicator"></span></label> Les interf√≠cies permeten escriure codi m√©s flexible i reutilitzable.</li>
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"/><span class="task-list-indicator"></span></label> En aquest tema, les interf√≠cies s‚Äôutilitzen com a contractes de comportament.</li>
</ul>
</div>
<details class="question">
<summary>Activitat 615. Interf√≠cie de comportament</summary>
<p>Crea una interf√≠cie anomenada Actualitzable que definisca els m√®todes necessaris per actualitzar i mostrar un objecte del sistema.    </p>
<p>A continuaci√≥:
- Fes que la classe <code>Particula</code> implemente aquesta interf√≠cie.
- Comprova que les classes heretades (<code>Lava</code>, <code>Gota</code>) continuen funcionant correctament.
- Crea una col¬∑lecci√≥ d‚Äôobjectes <code>Actualitzable</code> i utilitza-la per actualitzar i dibuixar el sistema de part√≠cules.</p>
<p><strong>No est√† perm√©s:</strong>
- Afegir m√®todes nous a la interf√≠cie.
- Modificar el comportament de les classes heretades.
- Utilitzar conceptes avan√ßats com polimorfisme expl√≠cit o classes abstractes.</p>
</details>
<h2 id="conjunts-dobjectes-i-llibreries-de-classes">Conjunts d'objectes i llibreries de classes</h2>
<div class="admonition success">
<p class="admonition-title">Criteris d'avaluaci√≥ associats</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"/><span class="task-list-indicator"></span></label> RA4.10. S'han creat i utilitzat conjunts i llibreries de classes</li>
</ul>
</div>
<p>En projectes reals, especialment quan treballem amb programaci√≥ orientada a objectes, no solem treballar amb un √∫nic objecte, sin√≥ amb molts objectes del mateix tipus i amb diverses classes relacionades entre si.</p>
<p>En aquest apartat veurem com:
- Agrupar objectes en <strong>conjunts</strong>
- Organitzar les nostres classes en una <strong>llibreria pr√≤pia</strong></p>
<p>Tot aix√≤ ho farem dins del projecte del <strong>sistema de part√≠cules.</strong></p>
<h3 id="conjunts-dobjectes-al-sistema-de-particules">Conjunts d'objectes al sistema de part√≠cules</h3>
<p>Fins ara hem treballat nom√©s amb una part√≠cula o diverses part√≠cules per√≤ declarades a nivell individual i sense cap tipus de relaci√≥ entre elles.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-31-1">1</a></span>
<span class="normal"><a href="#__codelineno-31-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1"></a><span class="n">Particula</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Lava</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PVector</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">));</span>
<a id="__codelineno-31-2" name="__codelineno-31-2"></a><span class="n">Particula</span><span class="w"> </span><span class="n">p2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Lava</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PVector</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span><span class="mi">30</span><span class="p">));</span>
</code></pre></div></td></tr></table></div>
<p>Per√≤ un <strong>sistema de part√≠cules</strong> no √©s m√©s que un conjunt (relativament gran) de part√≠cules que es mostren i mouen al mateix temps. Per exemple, el comportament del nostre volc√† √©s que cada <strong>n</strong> frames expulse (<strong>crear</strong>) una particula de lava de forma continuada. En aquest escenari seria impossible declarar utilitzant el sistema anterior totes les part√≠cules de lava que es crearan durant l'execuci√≥ del nostre sistema de part√≠cules. Per aix√≤ necessitem una manera d'agrupar-les, rec√≥rrer-les, actualitzar-les i dibuixar-les de forma conjunta. A aquest agrupament d'objectes l'anomenem <strong>conjunt</strong>.</p>
<h4 id="que-es-un-conjunt-dobjectes">Qu√® √©s un conjunt d'objectes?</h4>
<p>Un <strong>conjunt</strong> √©s una estructura que ens permet guardar:
- Diversos objectes
- Del mateix tipus (o d‚Äôun tipus com√∫)</p>
<p>En el nostre cas:
- Un conjunt de Particula
- Que pot contindre Lava, Gota, etc.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-32-1">1</a></span>
<span class="normal"><a href="#__codelineno-32-2">2</a></span>
<span class="normal"><a href="#__codelineno-32-3">3</a></span>
<span class="normal"><a href="#__codelineno-32-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1"></a><span class="c1">// Al exemple seg√ºent es crea un conjunt de particules amb identificador part√≠cules que cont√© objectes de la classe Particula (entre &lt;&gt;)</span>
<a id="__codelineno-32-2" name="__codelineno-32-2"></a><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Particula</span><span class="o">&gt;</span><span class="w"> </span><span class="n">particules</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<a id="__codelineno-32-3" name="__codelineno-32-3"></a><span class="n">particules</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Lava</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PVector</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)));</span>
<a id="__codelineno-32-4" name="__codelineno-32-4"></a><span class="n">particules</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Lava</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PVector</span><span class="p">(</span><span class="mi">120</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)));</span>
</code></pre></div></td></tr></table></div>
<p>Ara amb aquest <strong>ArrayList</strong> ja podem: agrupar i treballar amb totes les particules recorrent l'arrai d'objectes de la seg√ºent forma:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-33-1">1</a></span>
<span class="normal"><a href="#__codelineno-33-2">2</a></span>
<span class="normal"><a href="#__codelineno-33-3">3</a></span>
<span class="normal"><a href="#__codelineno-33-4">4</a></span>
<span class="normal"><a href="#__codelineno-33-5">5</a></span>
<span class="normal"><a href="#__codelineno-33-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">draw</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-33-2" name="__codelineno-33-2"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Particula</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">particules</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-33-3" name="__codelineno-33-3"></a><span class="w">        </span><span class="n">p</span><span class="p">.</span><span class="na">actualitzar</span><span class="p">();</span>
<a id="__codelineno-33-4" name="__codelineno-33-4"></a><span class="w">        </span><span class="n">p</span><span class="p">.</span><span class="na">mostrar</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<a id="__codelineno-33-5" name="__codelineno-33-5"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-33-6" name="__codelineno-33-6"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p><strong>Avantatges d'usar conjunts</strong></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"/><span class="task-list-indicator"></span></label> Permeten gestionar molts objectes al mateix temps.</li>
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"/><span class="task-list-indicator"></span></label> Faciliten la reutilitzaci√≥ del codi</li>
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"/><span class="task-list-indicator"></span></label> Fan el programa m√©s flexible</li>
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"/><span class="task-list-indicator"></span></label> Permeten ampliar el sistema f√†cilment</li>
</ul>
<p>Observa que no ens importa quin tipus de particula √©s, totes es tracten com a part√≠cula i el programa queda m√©s net i escalable.</p>
<details class="question">
<summary>Activitat 616. Sistema de part√≠cules m√∫ltiples</summary>
<p>Modifica el teu projecte del volc√† perqu√®:</p>
</details>
<ul>
<li>Es cree un conjunt de part√≠cules.</li>
<li>Cada iteraci√≥ (pot ser cada cert n√∫mero de frames) del programa afegisca una nova part√≠cula de lava.</li>
<li>Totes les part√≠cules s‚Äôactualitzen i es mostren utilitzant el conjunt.</li>
</ul>
<h3 id="llibreria-de-classes-del-sistema-de-particules">Llibreria de classes del sistema de part√≠cules</h3>
<p>A mesura que un projecte creix, tamb√© creix el nombre de classes. Si totes estigueren dins del mateix fitxer, el codi seria dif√≠cil de:</p>
<ul>
<li>Llegir</li>
<li>Mantindre</li>
<li>Reutilitzar</li>
</ul>
<p>Per aix√≤ organitzem el nostre codi en llibreries de classes.</p>
<h4 id="que-es-una-llibreria-de-classes">Qu√® √©s una llibreria de classes</h4>
<p>Una llibreria de classes √©s un conjunt de classes relacionades entre si que resolen un problema concret i poden ser reutilitzades en altres projectes.
En el nostre cas ser√† la llibreria del sistema de part√≠cules amb totes les classes creades.</p>
<p><strong>La llibreria del sistema de part√≠cules</strong>
El nostre projecte ja cont√© diverses classes amb responsabilitats clares:
- <strong>Part√≠cula:</strong> classe base.
- <strong>Lava:</strong> tipus concret de part√≠cula.
- <strong>Gota:</strong> tipus concret de part√≠cula.
- <strong>Fisica2D:</strong> c√†lculs f√≠sics.
- <strong>Actualizable:</strong> comportament com√∫.</p>
<p><strong>Organitzaci√≥ del projecte</strong>
A continuaci√≥ pots observar un exemple d'organitzaci√≥ d'un projecte amb una llibreria de classes.</p>
<p><center>
<div class="mermaid">	graph TD
		A[üìÅSistemaParticules] --&gt; B[üß©SistemaParticules.pde]
		A --&gt; C[‚òïParticula.java]
		A --&gt; D[‚òïLava.java]
		C --&gt; E[‚òïGota.java]
		A --&gt; F[‚òïFisica2D.java]     
        A --&gt; G[üîå Actualitzablle.java]
</div>
</center></p>
<p><strong>Avantatges de crear una llibreria pr√≤pia</strong></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"/><span class="task-list-indicator"></span></label> Millora l‚Äôorganitzaci√≥ del codi</li>
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"/><span class="task-list-indicator"></span></label> Facilita el manteniment</li>
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"/><span class="task-list-indicator"></span></label> Permet reutilitzar classes</li>
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"/><span class="task-list-indicator"></span></label> Separa responsabilitats</li>
<li class="task-list-item"><label class="task-list-control"><input checked="" disabled="" type="checkbox"/><span class="task-list-indicator"></span></label> Fa el projecte m√©s professional</li>
</ul>
<details class="question">
<summary>Activitat 617. Organitzem la llibreria</summary>
<p>Reorganitza el teu projecte perqu√®:
- Les classes del sistema de part√≠cules estiguen <strong>separades</strong> del sketch SistemaParticules.pde.
- El sketch nom√©s s‚Äôencarregue de crear i utilitzar les part√≠cules.
- El sistema de part√≠cules puga ser reutilitzat en un altre projecte.
- Mescla el sistema de part√≠cules volc√† amb el de la pluja en un mateix sketch.</p>
</details>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "..", "features": ["navigation.expand", "toc.integrate", "content.code.copy", "content.code.annotate"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../assets/javascripts/bundle.c8d2eff1.min.js"></script>
<script type="module">import mermaid from "https://unpkg.com/mermaid@10.4.0/dist/mermaid.esm.min.mjs";
mermaid.initialize({
    theme: "forest",
    darkmode: true
});</script></body>
</html>